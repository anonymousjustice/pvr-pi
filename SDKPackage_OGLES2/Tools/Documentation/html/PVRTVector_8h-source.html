<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PowerVR SDK</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<table width="100%">
  <tr>
    <td width="33%">
      <p align="left">&nbsp;<a href="http://www.imgtec.com"><img border="0" src="IMGLogo.jpg" width="200" height="30"></a></p>
    </td>
    <td width="33%">
      <p align="center"><font color="#808080" face="Arial" size="2">PowerVR Software Development Kit</a></font></p>
    </td>
    <td width="34%">
      <p align="right"><a href="http://www.powervr.com"><img border="0" src="PVRlogo.jpg" width="200" height="27"></a></p>
    </td>
  </tr>
</table>
<hr>
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>PVRTVector.h</h1><a href="PVRTVector_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/******************************************************************************</span>
00002 <span class="comment"></span>
00003 <span class="comment"> @File         PVRTVector.h</span>
00004 <span class="comment"></span>
00005 <span class="comment"> @Title        PVRTVector</span>
00006 <span class="comment"></span>
00007 <span class="comment"> @Version      </span>
00008 <span class="comment"></span>
00009 <span class="comment"> @Copyright    Copyright (c) Imagination Technologies Limited.</span>
00010 <span class="comment"></span>
00011 <span class="comment"> @Platform     ANSI compatible</span>
00012 <span class="comment"></span>
00013 <span class="comment"> @Description  Vector and matrix mathematics library</span>
00014 <span class="comment"></span>
00015 <span class="comment">******************************************************************************/</span>
00016 <span class="preprocessor">#ifndef __PVRTVECTOR_H__</span>
00017 <span class="preprocessor"></span><span class="preprocessor">#define __PVRTVECTOR_H__</span>
00018 <span class="preprocessor"></span>
00019 <span class="preprocessor">#include "assert.h"</span>
00020 <span class="preprocessor">#include "<a class="code" href="PVRTGlobal_8h.html">PVRTGlobal.h</a>"</span>
00021 <span class="preprocessor">#include "<a class="code" href="PVRTFixedPoint_8h.html">PVRTFixedPoint.h</a>"</span>
00022 <span class="preprocessor">#include "<a class="code" href="PVRTMatrix_8h.html">PVRTMatrix.h</a>"</span>
00023 <span class="preprocessor">#include &lt;string.h&gt;</span>
00024 <span class="preprocessor">#include &lt;math.h&gt;</span>
00025 
00026 <span class="comment">/*!***************************************************************************</span>
00027 <span class="comment">** Forward Declarations for vector and matrix structs</span>
00028 <span class="comment">****************************************************************************/</span>
00029 <span class="keyword">struct </span><a class="code" href="structPVRTVec4.html">PVRTVec4</a>;
00030 <span class="keyword">struct </span><a class="code" href="structPVRTVec3.html">PVRTVec3</a>;
00031 <span class="keyword">struct </span><a class="code" href="structPVRTMat3.html">PVRTMat3</a>;
00032 <span class="keyword">struct </span><a class="code" href="structPVRTMat4.html">PVRTMat4</a>;
00033 
00034 <span class="comment">/*!***************************************************************************</span>
00035 <span class="comment"> @Function          PVRTLinearEqSolve</span>
00036 <span class="comment"> @Input             pSrc    2D array of floats. 4 Eq linear problem is 5x4</span>
00037 <span class="comment">                            matrix, constants in first column</span>
00038 <span class="comment"> @Input             nCnt    Number of equations to solve</span>
00039 <span class="comment"> @Output            pRes    Result</span>
00040 <span class="comment"> @Description       Solves 'nCnt' simultaneous equations of 'nCnt' variables.</span>
00041 <span class="comment">                    pRes should be an array large enough to contain the</span>
00042 <span class="comment">                    results: the values of the 'nCnt' variables.</span>
00043 <span class="comment">                    This fn recursively uses Gaussian Elimination.</span>
00044 <span class="comment">*****************************************************************************/</span>
00045 <span class="keywordtype">void</span> <a class="code" href="PVRTVector_8h.html#a0">PVRTLinearEqSolve</a>(VERTTYPE * <span class="keyword">const</span> pRes, VERTTYPE ** <span class="keyword">const</span> pSrc, <span class="keyword">const</span> <span class="keywordtype">int</span> nCnt);
00046 
00047 <span class="comment">/*!***************************************************************************</span>
00048 <span class="comment">    ** PVRTVec2 2 component vector</span>
00049 <span class="comment">    ****************************************************************************/</span>
00050 <span class="keyword">struct </span><a class="code" href="structPVRTVec2.html">PVRTVec2</a>
<a name="l00051"></a><a class="code" href="structPVRTVec2.html">00051</a> {
00052     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> x, y;
<a name="l00053"></a><a class="code" href="structPVRTVec2.html#o1">00053</a>     <span class="comment">/*!***************************************************************************</span>
00054 <span class="comment">        ** Constructors</span>
00055 <span class="comment">        ****************************************************************************/</span>
00056     <span class="comment">/*!***************************************************************************</span>
00057 <span class="comment">        @Function           PVRTVec2</span>
00058 <span class="comment">        @Description        Blank constructor.</span>
00059 <span class="comment">        *****************************************************************************/</span>
00060     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>() {}
00061     <span class="comment">/*!***************************************************************************</span>
<a name="l00062"></a><a class="code" href="structPVRTVec2.html#a0">00062</a> <span class="comment">        @Function           PVRTVec2</span>
00063 <span class="comment">        @Input              fX  X component of vector</span>
00064 <span class="comment">        @Input              fY  Y component of vector</span>
00065 <span class="comment">        @Description        Simple constructor from 2 values.</span>
00066 <span class="comment">        *****************************************************************************/</span>
00067     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(VERTTYPE fX, VERTTYPE fY) : x(fX), y(fY) {}
00068     <span class="comment">/*!***************************************************************************</span>
00069 <span class="comment">        @Function           PVRTVec2</span>
<a name="l00070"></a><a class="code" href="structPVRTVec2.html#a1">00070</a> <span class="comment">        @Input              fValue  a component value</span>
00071 <span class="comment">        @Description        Constructor from a single value.</span>
00072 <span class="comment">        *****************************************************************************/</span>
00073     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(VERTTYPE fValue) : x(fValue), y(fValue) {}
00074     <span class="comment">/*!***************************************************************************</span>
00075 <span class="comment">        @Function           PVRTVec2</span>
00076 <span class="comment">        @Input              pVec    an array</span>
<a name="l00077"></a><a class="code" href="structPVRTVec2.html#a2">00077</a> <span class="comment">        @Description        Constructor from an array</span>
00078 <span class="comment">        *****************************************************************************/</span>
00079     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(<span class="keyword">const</span> VERTTYPE* pVec) : x(pVec[0]), y(pVec[1]) {}
00080     <span class="comment">/*!***************************************************************************</span>
00081 <span class="comment">        @Function           PVRTVec2</span>
00082 <span class="comment">        @Input              v3Vec a Vec3</span>
00083 <span class="comment">        @Description        Constructor from a Vec3</span>
<a name="l00084"></a><a class="code" href="structPVRTVec2.html#a3">00084</a> <span class="comment">        *****************************************************************************/</span>
00085     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; v3Vec);
00086     <span class="comment">/*!***************************************************************************</span>
00087 <span class="comment">        ** Operators</span>
00088 <span class="comment">        ****************************************************************************/</span>
00089     <span class="comment">/*!***************************************************************************</span>
00090 <span class="comment">        @Function           +</span>
00091 <span class="comment">        @Input              rhs another Vec2</span>
00092 <span class="comment">        @Returns            result of addition</span>
00093 <span class="comment">        @Description        componentwise addition operator for two Vec2s</span>
00094 <span class="comment">        *****************************************************************************/</span>
00095     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a5">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00096 <span class="keyword">    </span>{
00097         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00098         <span class="keywordflow">return</span> out += rhs;
00099     }
00100     <span class="comment">/*!***************************************************************************</span>
00101 <span class="comment">        @Function           -</span>
<a name="l00102"></a><a class="code" href="structPVRTVec2.html#a5">00102</a> <span class="comment">        @Input              rhs another Vec2</span>
00103 <span class="comment">        @Returns            result of subtraction</span>
00104 <span class="comment">        @Description        componentwise subtraction operator for two Vec2s</span>
00105 <span class="comment">        ****************************************************************************/</span>
00106     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a6">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00107 <span class="keyword">    </span>{
00108         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00109         <span class="keywordflow">return</span> out -= rhs;
00110     }
00111 
00112     <span class="comment">/*!***************************************************************************</span>
00113 <span class="comment">        @Function           +=</span>
<a name="l00114"></a><a class="code" href="structPVRTVec2.html#a6">00114</a> <span class="comment">        @Input              rhs another Vec2</span>
00115 <span class="comment">        @Returns            result of addition</span>
00116 <span class="comment">        @Description        componentwise addition and assignment operator for two Vec2s</span>
00117 <span class="comment">        ****************************************************************************/</span>
00118     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a7">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00119     {
00120         x += rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>;
00121         y += rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>;
00122         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00123     }
00124 
00125     <span class="comment">/*!***************************************************************************</span>
00126 <span class="comment">        @Function           -=</span>
<a name="l00127"></a><a class="code" href="structPVRTVec2.html#a7">00127</a> <span class="comment">        @Input              rhs another Vec2</span>
00128 <span class="comment">        @Returns            result of subtraction</span>
00129 <span class="comment">        @Description        componentwise subtraction and assignment operator for two Vec2s</span>
00130 <span class="comment">        ****************************************************************************/</span>
00131     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a8">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00132     {
00133         x -= rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>;
00134         y -= rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>;
00135         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00136     }
00137 
00138     <span class="comment">/*!***************************************************************************</span>
00139 <span class="comment">        @Function           -</span>
00140 <span class="comment">        @Input              rhs another Vec2</span>
<a name="l00141"></a><a class="code" href="structPVRTVec2.html#a8">00141</a> <span class="comment">        @Returns            result of negation</span>
00142 <span class="comment">        @Description        negation operator for a Vec2</span>
00143 <span class="comment">        ****************************************************************************/</span>
00144     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a6">operator- </a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs) { <span class="keywordflow">return</span> <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(-rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>, -rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>); }
00145 
00146     <span class="comment">/*!***************************************************************************</span>
00147 <span class="comment">        @Function           *</span>
00148 <span class="comment">        @Input              lhs scalar</span>
00149 <span class="comment">        @Input              rhs a Vec2</span>
00150 <span class="comment">        @Returns            result of multiplication</span>
00151 <span class="comment">        @Description        multiplication operator for a Vec2</span>
00152 <span class="comment">        ****************************************************************************/</span>
00153     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp;  rhs)
00154     {
<a name="l00155"></a><a class="code" href="structPVRTVec2.html#n0">00155</a>         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(lhs);
00156         <span class="keywordflow">return</span> out *= rhs;
00157     }
00158 
00159     <span class="comment">/*!***************************************************************************</span>
00160 <span class="comment">        @Function           /</span>
00161 <span class="comment">        @Input              lhs scalar</span>
00162 <span class="comment">        @Input              rhs a Vec2</span>
00163 <span class="comment">        @Returns            result of division</span>
00164 <span class="comment">        @Description        division operator for scalar and Vec2</span>
<a name="l00165"></a><a class="code" href="structPVRTVec2.html#n1">00165</a> <span class="comment">        ****************************************************************************/</span>
00166     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp;  rhs)
00167     {
00168         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(lhs);
00169         <span class="keywordflow">return</span> out /= rhs;
00170     }
00171 
00172     <span class="comment">/*!***************************************************************************</span>
00173 <span class="comment">        @Function           *</span>
00174 <span class="comment">        @Input              rhs a scalar</span>
00175 <span class="comment">        @Returns            result of multiplication</span>
00176 <span class="comment">        @Description        componentwise multiplication by scalar for Vec2</span>
00177 <span class="comment">        ****************************************************************************/</span>
00178     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
<a name="l00179"></a><a class="code" href="structPVRTVec2.html#n2">00179</a> <span class="keyword">    </span>{
00180         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00181         <span class="keywordflow">return</span> out *= rhs;
00182     }
00183 
00184     <span class="comment">/*!***************************************************************************</span>
00185 <span class="comment">        @Function           *=</span>
00186 <span class="comment">        @Input              rhs a scalar</span>
00187 <span class="comment">        @Returns            result of multiplication and assignment</span>
00188 <span class="comment">        @Description        componentwise multiplication and assignment by scalar for Vec2</span>
00189 <span class="comment">        ****************************************************************************/</span>
00190     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00191     {
<a name="l00192"></a><a class="code" href="structPVRTVec2.html#a9">00192</a>         x = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x, rhs);
00193         y = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y, rhs);
00194         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00195     }
00196 
00197     <span class="comment">/*!***************************************************************************</span>
00198 <span class="comment">        @Function           *=</span>
00199 <span class="comment">        @Input              rhs a Vec2</span>
00200 <span class="comment">        @Returns            result of multiplication and assignment</span>
00201 <span class="comment">        @Description        componentwise multiplication and assignment by Vec2 for Vec2</span>
00202 <span class="comment">        ****************************************************************************/</span>
00203     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00204     {
<a name="l00205"></a><a class="code" href="structPVRTVec2.html#a10">00205</a>         x = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>);
00206         y = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00207         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00208     }
00209 
00210     <span class="comment">/*!***************************************************************************</span>
00211 <span class="comment">        @Function           /</span>
00212 <span class="comment">        @Input              rhs a scalar</span>
00213 <span class="comment">        @Returns            result of division</span>
00214 <span class="comment">        @Description        componentwise division by scalar for Vec2</span>
00215 <span class="comment">        ****************************************************************************/</span>
00216     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00217 <span class="keyword">    </span>{
00218         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
<a name="l00219"></a><a class="code" href="structPVRTVec2.html#a11">00219</a>         <span class="keywordflow">return</span> out /= rhs;
00220     }
00221 
00222     <span class="comment">/*!***************************************************************************</span>
00223 <span class="comment">        @Function           /=</span>
00224 <span class="comment">        @Input              rhs a scalar</span>
00225 <span class="comment">        @Returns            result of division and assignment</span>
00226 <span class="comment">        @Description        componentwise division and assignment by scalar for Vec2</span>
00227 <span class="comment">        ****************************************************************************/</span>
00228     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a13">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00229     {
00230         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x, rhs);
00231         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y, rhs);
00232         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00233"></a><a class="code" href="structPVRTVec2.html#a12">00233</a>     }
00234 
00235     <span class="comment">/*!***************************************************************************</span>
00236 <span class="comment">        @Function           /=</span>
00237 <span class="comment">        @Input              rhs a Vec2</span>
00238 <span class="comment">        @Returns            result of division and assignment</span>
00239 <span class="comment">        @Description        componentwise division and assignment by Vec2 for Vec2</span>
00240 <span class="comment">        ****************************************************************************/</span>
00241     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a13">operator/=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00242     {
00243         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>);
00244         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00245         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00246"></a><a class="code" href="structPVRTVec2.html#a13">00246</a>     }
00247 
00248     <span class="comment">/*!***************************************************************************</span>
00249 <span class="comment">    @Function           ==</span>
00250 <span class="comment">    @Input              rhs a single value</span>
00251 <span class="comment">    @Returns            true if the two vectors are equal</span>
00252 <span class="comment">    @Description        PVRTVec2 equality operator</span>
00253 <span class="comment">    ****************************************************************************/</span>
00254     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec2.html#a15">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00255 <span class="keyword">    </span>{
00256         <span class="keywordflow">return</span> ((x == rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>) &amp;&amp; (y == rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>));
00257     }
00258 
00259     <span class="comment">/*!***************************************************************************</span>
<a name="l00260"></a><a class="code" href="structPVRTVec2.html#a14">00260</a> <span class="comment">    @Function           !=</span>
00261 <span class="comment">    @Input              rhs a single value</span>
00262 <span class="comment">    @Returns            true if the two vectors are not equal</span>
00263 <span class="comment">    @Description        PVRTVec2 inequality operator</span>
00264 <span class="comment">    ****************************************************************************/</span>
00265     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec2.html#a16">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00266 <span class="keyword">    </span>{
00267         <span class="keywordflow">return</span> ((x != rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>) || (y != rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>));
00268     }
00269 
00270     <span class="comment">// FUNCTIONS</span>
00271     <span class="comment">/*!***************************************************************************</span>
00272 <span class="comment">        @Function           lenSqr</span>
00273 <span class="comment">        @Returns            the square of the magnitude of the vector</span>
<a name="l00274"></a><a class="code" href="structPVRTVec2.html#a15">00274</a> <span class="comment">        @Description        calculates the square of the magnitude of the vector</span>
00275 <span class="comment">        ****************************************************************************/</span>
00276     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a17">lenSqr</a>()<span class="keyword"> const</span>
00277 <span class="keyword">    </span>{
00278         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,y);
00279     }
00280 
00281     <span class="comment">/*!***************************************************************************</span>
00282 <span class="comment">        @Function           length</span>
00283 <span class="comment">        @Returns            the of the magnitude of the vector</span>
00284 <span class="comment">        @Description        calculates the magnitude of the vector</span>
00285 <span class="comment">        ****************************************************************************/</span>
<a name="l00286"></a><a class="code" href="structPVRTVec2.html#a16">00286</a>     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a18">length</a>()<span class="keyword"> const</span>
00287 <span class="keyword">    </span>{
00288         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(y)));
00289     }
00290 
00291     <span class="comment">/*!***************************************************************************</span>
00292 <span class="comment">        @Function           normalize</span>
00293 <span class="comment">        @Returns            the normalized value of the vector</span>
00294 <span class="comment">        @Description        normalizes the vector</span>
00295 <span class="comment">        ****************************************************************************/</span>
00296     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a19">normalize</a>()
00297     {
<a name="l00298"></a><a class="code" href="structPVRTVec2.html#a17">00298</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span> /= <a class="code" href="structPVRTVec2.html#a18">length</a>();
00299     }
00300 
00301     <span class="comment">/*!***************************************************************************</span>
00302 <span class="comment">        @Function           normalized</span>
00303 <span class="comment">        @Returns            returns the normalized value of the vector</span>
00304 <span class="comment">        @Description        returns a normalized vector of the same direction as this</span>
00305 <span class="comment">        vector</span>
00306 <span class="comment">        ****************************************************************************/</span>
00307     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a20">normalized</a>()<span class="keyword"> const</span>
00308 <span class="keyword">    </span>{
<a name="l00309"></a><a class="code" href="structPVRTVec2.html#a18">00309</a>         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00310         <span class="keywordflow">return</span> out.<a class="code" href="structPVRTVec2.html#a19">normalize</a>();
00311     }
00312 
00313     <span class="comment">/*!***************************************************************************</span>
00314 <span class="comment">        @Function           rotated90</span>
00315 <span class="comment">        @Returns            returns the vector rotated 90°</span>
00316 <span class="comment">        @Description        returns the vector rotated 90°</span>
00317 <span class="comment">        ****************************************************************************/</span>
00318     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a21">rotated90</a>()<span class="keyword"> const</span>
00319 <span class="keyword">    </span>{
<a name="l00320"></a><a class="code" href="structPVRTVec2.html#a19">00320</a>         <span class="keywordflow">return</span> <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(-y, x);
00321     }
00322 
00323     <span class="comment">/*!***************************************************************************</span>
00324 <span class="comment">        @Function           dot</span>
00325 <span class="comment">        @Input              rhs a single value</span>
00326 <span class="comment">        @Returns            scalar product</span>
00327 <span class="comment">        @Description        calculate the scalar product of two Vec3s</span>
00328 <span class="comment">        ****************************************************************************/</span>
00329     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a22">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00330 <span class="keyword">    </span>{
00331         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>) + <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
<a name="l00332"></a><a class="code" href="structPVRTVec2.html#a20">00332</a>     }
00333 
00334     <span class="comment">/*!***************************************************************************</span>
00335 <span class="comment">        @Function           ptr</span>
00336 <span class="comment">        @Returns            pointer</span>
00337 <span class="comment">        @Description        returns a pointer to memory containing the values of the</span>
00338 <span class="comment">        Vec3</span>
00339 <span class="comment">        ****************************************************************************/</span>
00340     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec2.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00341 };
00342 
00343 <span class="comment">/*!***************************************************************************</span>
<a name="l00344"></a><a class="code" href="structPVRTVec2.html#a21">00344</a> <span class="comment">** PVRTVec3 3 component vector</span>
00345 <span class="comment">****************************************************************************/</span>
00346 <span class="keyword">struct </span><a class="code" href="structPVRTVec3.html">PVRTVec3</a> : <span class="keyword">public</span> <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>
00347 {
00348 <span class="comment">/*!***************************************************************************</span>
00349 <span class="comment">** Constructors</span>
00350 <span class="comment">****************************************************************************/</span>
00351 <span class="comment">/*!***************************************************************************</span>
00352 <span class="comment"> @Function          PVRTVec3</span>
00353 <span class="comment"> @Description       Blank constructor.</span>
00354 <span class="comment">*****************************************************************************/</span>
00355     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>()
<a name="l00356"></a><a class="code" href="structPVRTVec2.html#a22">00356</a>     {
00357         x = y = z = 0;
00358     }
00359 <span class="comment">/*!***************************************************************************</span>
00360 <span class="comment"> @Function          PVRTVec3</span>
00361 <span class="comment"> @Input             fX  X component of vector</span>
00362 <span class="comment"> @Input             fY  Y component of vector</span>
00363 <span class="comment"> @Input             fZ  Z component of vector</span>
00364 <span class="comment"> @Description       Simple constructor from 3 values.</span>
00365 <span class="comment">*****************************************************************************/</span>
00366     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(VERTTYPE fX, VERTTYPE fY, VERTTYPE fZ)
00367     {
<a name="l00368"></a><a class="code" href="structPVRTVec2.html#a23">00368</a>         x = fX; y = fY; z = fZ;
00369     }
00370 <span class="comment">/*!***************************************************************************</span>
00371 <span class="comment"> @Function          PVRTVec3</span>
00372 <span class="comment"> @Input             fValue  a component value</span>
00373 <span class="comment"> @Description       Constructor from a single value.</span>
<a name="l00374"></a><a class="code" href="structPVRTVec3.html">00374</a> <span class="comment">*****************************************************************************/</span>
00375     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> VERTTYPE fValue)
00376     {
00377         x = fValue; y = fValue; z = fValue;
00378     }
00379 <span class="comment">/*!***************************************************************************</span>
00380 <span class="comment"> @Function          PVRTVec3</span>
00381 <span class="comment"> @Input             pVec    an array</span>
00382 <span class="comment"> @Description       Constructor from an array</span>
00383 <span class="comment">*****************************************************************************/</span>
<a name="l00384"></a><a class="code" href="structPVRTVec3.html#a0">00384</a>     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> VERTTYPE* pVec)
00385     {
00386         x = (*pVec++); y = (*pVec++); z = *pVec;
00387     }
00388 <span class="comment">/*!***************************************************************************</span>
00389 <span class="comment"> @Function          PVRTVec3</span>
00390 <span class="comment"> @Input             v4Vec a PVRTVec4</span>
00391 <span class="comment"> @Description       Constructor from a PVRTVec4</span>
00392 <span class="comment">*****************************************************************************/</span>
00393     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; v4Vec);
00394 <span class="comment">/*!***************************************************************************</span>
00395 <span class="comment">** Operators</span>
<a name="l00396"></a><a class="code" href="structPVRTVec3.html#a1">00396</a> <span class="comment">****************************************************************************/</span>
00397 <span class="comment">/*!***************************************************************************</span>
00398 <span class="comment"> @Function          +</span>
00399 <span class="comment"> @Input             rhs another PVRTVec3</span>
00400 <span class="comment"> @Returns           result of addition</span>
00401 <span class="comment"> @Description       componentwise addition operator for two PVRTVec3s</span>
00402 <span class="comment">*****************************************************************************/</span>
00403     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a5">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00404 <span class="keyword">    </span>{
00405         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
<a name="l00406"></a><a class="code" href="structPVRTVec3.html#a2">00406</a>         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = x+rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00407         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = y+rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00408         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = z+rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00409         <span class="keywordflow">return</span> out;
00410     }
00411 <span class="comment">/*!***************************************************************************</span>
00412 <span class="comment"> @Function          -</span>
00413 <span class="comment"> @Input             rhs another PVRTVec3</span>
00414 <span class="comment"> @Returns           result of subtraction</span>
00415 <span class="comment"> @Description       componentwise subtraction operator for two PVRTVec3s</span>
<a name="l00416"></a><a class="code" href="structPVRTVec3.html#a3">00416</a> <span class="comment">****************************************************************************/</span>
00417     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a6">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00418 <span class="keyword">    </span>{
00419         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00420         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = x-rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00421         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = y-rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00422         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = z-rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00423         <span class="keywordflow">return</span> out;
00424     }
00425 
00426 <span class="comment">/*!***************************************************************************</span>
00427 <span class="comment"> @Function          +=</span>
00428 <span class="comment"> @Input             rhs another PVRTVec3</span>
00429 <span class="comment"> @Returns           result of addition</span>
00430 <span class="comment"> @Description       componentwise addition and assignement operator for two PVRTVec3s</span>
00431 <span class="comment">****************************************************************************/</span>
00432     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a7">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00433     {
00434         x +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00435         y +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00436         z +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
<a name="l00437"></a><a class="code" href="structPVRTVec3.html#a5">00437</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00438     }
00439 
00440 <span class="comment">/*!***************************************************************************</span>
00441 <span class="comment"> @Function          -=</span>
00442 <span class="comment"> @Input             rhs another PVRTVec3</span>
00443 <span class="comment"> @Returns           result of subtraction</span>
00444 <span class="comment"> @Description       componentwise subtraction and assignement operator for two PVRTVec3s</span>
00445 <span class="comment">****************************************************************************/</span>
00446     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a8">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00447     {
00448         x -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00449         y -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00450         z -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00451         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00452"></a><a class="code" href="structPVRTVec3.html#a6">00452</a>     }
00453 
00454 <span class="comment">/*!***************************************************************************</span>
00455 <span class="comment"> @Function          -</span>
00456 <span class="comment"> @Input             rhs another PVRTVec3</span>
00457 <span class="comment"> @Returns           result of negation</span>
00458 <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00459 <span class="comment">****************************************************************************/</span>
00460     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a6">operator - </a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs) { <span class="keywordflow">return</span> <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(rhs) *= <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(-1); }
00461 
00462 <span class="comment">/*!***************************************************************************</span>
00463 <span class="comment"> @Function          *</span>
00464 <span class="comment"> @Input             lhs single value</span>
00465 <span class="comment"> @Input             rhs a PVRTVec3</span>
00466 <span class="comment"> @Returns           result of multiplication</span>
00467 <span class="comment"> @Description       multiplication operator for a PVRTVec3</span>
<a name="l00468"></a><a class="code" href="structPVRTVec3.html#a7">00468</a> <span class="comment">****************************************************************************/</span>
00469     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp;  rhs)
00470     {
00471         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00472         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00473         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00474         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00475         <span class="keywordflow">return</span> out;
00476     }
00477 
00478 <span class="comment">/*!***************************************************************************</span>
00479 <span class="comment"> @Function          *</span>
00480 <span class="comment"> @Input             lhs single value</span>
00481 <span class="comment"> @Input             rhs a PVRTVec3</span>
00482 <span class="comment"> @Returns           result of negation</span>
<a name="l00483"></a><a class="code" href="structPVRTVec3.html#a8">00483</a> <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00484 <span class="comment">****************************************************************************/</span>
00485     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp;  rhs)
00486     {
00487         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00488         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00489         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00490         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00491         <span class="keywordflow">return</span> out;
00492     }
00493 
00494 <span class="comment">/*!***************************************************************************</span>
00495 <span class="comment"> @Function          *</span>
00496 <span class="comment"> @Input             rhs a PVRTMat3</span>
00497 <span class="comment"> @Returns           result of multiplication</span>
<a name="l00498"></a><a class="code" href="structPVRTVec3.html#n0">00498</a> <span class="comment"> @Description       matrix multiplication operator PVRTVec3 and PVRTMat3</span>
00499 <span class="comment">****************************************************************************/</span>
00500     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs) <span class="keyword">const</span>;
00501 
00502 <span class="comment">/*!***************************************************************************</span>
00503 <span class="comment"> @Function          *=</span>
00504 <span class="comment"> @Input             rhs a PVRTMat3</span>
00505 <span class="comment"> @Returns           result of multiplication and assignment</span>
00506 <span class="comment"> @Description       matrix multiplication and assignment operator for PVRTVec3 and PVRTMat3</span>
00507 <span class="comment">****************************************************************************/</span>
<a name="l00508"></a><a class="code" href="structPVRTVec3.html#n1">00508</a>     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs);
00509 
00510 <span class="comment">/*!***************************************************************************</span>
00511 <span class="comment"> @Function          *</span>
00512 <span class="comment"> @Input             rhs a single value</span>
00513 <span class="comment"> @Returns           result of multiplication</span>
00514 <span class="comment"> @Description       componentwise multiplication by single dimension value for PVRTVec3</span>
00515 <span class="comment">****************************************************************************/</span>
00516     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00517 <span class="keyword">    </span>{
00518         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00519         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,rhs);
00520         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,rhs);
00521         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,rhs);
00522         <span class="keywordflow">return</span> out;
00523     }
00524 
<a name="l00525"></a><a class="code" href="structPVRTVec3.html#n2">00525</a> <span class="comment">/*!***************************************************************************</span>
00526 <span class="comment"> @Function          *</span>
00527 <span class="comment"> @Input             rhs a single value</span>
00528 <span class="comment"> @Returns           result of multiplication and assignment</span>
00529 <span class="comment"> @Description       componentwise multiplication and assignement by single</span>
00530 <span class="comment">                    dimension value for PVRTVec3</span>
00531 <span class="comment">****************************************************************************/</span>
00532     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00533     {
00534         x = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,rhs);
00535         y = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,rhs);
00536         z = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,rhs);
00537         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00538     }
00539 
00540 <span class="comment">/*!***************************************************************************</span>
00541 <span class="comment"> @Function          /</span>
00542 <span class="comment"> @Input             rhs a single value</span>
00543 <span class="comment"> @Returns           result of division</span>
00544 <span class="comment"> @Description       componentwise division by single</span>
00545 <span class="comment">                    dimension value for PVRTVec3</span>
00546 <span class="comment">****************************************************************************/</span>
00547     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00548 <span class="keyword">    </span>{
00549         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00550         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x,rhs);
00551         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y,rhs);
00552         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z,rhs);
00553         <span class="keywordflow">return</span> out;
00554     }
00555 
00556 <span class="comment">/*!***************************************************************************</span>
00557 <span class="comment"> @Function          /=</span>
00558 <span class="comment"> @Input             rhs a single value</span>
<a name="l00559"></a><a class="code" href="structPVRTVec3.html#a11">00559</a> <span class="comment"> @Returns           result of division and assignment</span>
00560 <span class="comment"> @Description       componentwise division and assignement by single</span>
00561 <span class="comment">                    dimension value for PVRTVec3</span>
00562 <span class="comment">****************************************************************************/</span>
00563     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a14">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00564     {
00565         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x,rhs);
00566         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y,rhs);
00567         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z,rhs);
00568         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00569     }
00570 
00571 <span class="comment">/*!***************************************************************************</span>
00572 <span class="comment"> @Function          ==</span>
00573 <span class="comment"> @Input             rhs a single value</span>
00574 <span class="comment"> @Returns           true if the two vectors are equal</span>
00575 <span class="comment"> @Description       PVRTVec3 equality operator</span>
<a name="l00576"></a><a class="code" href="structPVRTVec3.html#a12">00576</a> <span class="comment">****************************************************************************/</span>
00577     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec3.html#a15">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00578 <span class="keyword">    </span>{
00579         <span class="keywordflow">return</span> ((x == rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>) &amp;&amp; (y == rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>) &amp;&amp; (z == rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>));
00580     }
00581 
00582 <span class="comment">/*!***************************************************************************</span>
00583 <span class="comment">@Function           !=</span>
00584 <span class="comment">@Input              rhs a single value</span>
00585 <span class="comment">@Returns            true if the two vectors are not equal</span>
00586 <span class="comment">@Description        PVRTVec3 inequality operator</span>
00587 <span class="comment">    ****************************************************************************/</span>
00588     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec3.html#a16">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00589 <span class="keyword">    </span>{
00590         <span class="keywordflow">return</span> ((x != rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>) || (y != rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>) || (z != rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>));
00591     }
<a name="l00592"></a><a class="code" href="structPVRTVec3.html#a13">00592</a>     <span class="comment">// FUNCTIONS</span>
00593 <span class="comment">/*!***************************************************************************</span>
00594 <span class="comment"> @Function          lenSqr</span>
00595 <span class="comment"> @Returns           the square of the magnitude of the vector</span>
00596 <span class="comment"> @Description       calculates the square of the magnitude of the vector</span>
00597 <span class="comment">****************************************************************************/</span>
00598     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a17">lenSqr</a>()<span class="keyword"> const</span>
00599 <span class="keyword">    </span>{
00600         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,y)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,z);
00601     }
00602 
00603 <span class="comment">/*!***************************************************************************</span>
00604 <span class="comment"> @Function          length</span>
00605 <span class="comment"> @Returns           the of the magnitude of the vector</span>
00606 <span class="comment"> @Description       calculates the magnitude of the vector</span>
00607 <span class="comment">****************************************************************************/</span>
00608     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a18">length</a>()<span class="keyword"> const</span>
<a name="l00609"></a><a class="code" href="structPVRTVec3.html#a14">00609</a> <span class="keyword">    </span>{
00610         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(z)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(z)));
00611     }
00612 
00613 <span class="comment">/*!***************************************************************************</span>
00614 <span class="comment"> @Function          normalize</span>
00615 <span class="comment"> @Returns           the normalized value of the vector</span>
00616 <span class="comment"> @Description       normalizes the vector</span>
00617 <span class="comment">****************************************************************************/</span>
00618     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a19">normalize</a>()
00619     {
00620 <span class="preprocessor">#if defined(PVRT_FIXED_POINT_ENABLE)</span>
00621 <span class="preprocessor"></span>        <span class="comment">// Scale vector by uniform value</span>
00622         <span class="keywordtype">int</span> n = <a class="code" href="PVRTFixedPoint_8h.html#a5">PVRTABS</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a5">PVRTABS</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a5">PVRTABS</a>(z);
00623         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x, n);
<a name="l00624"></a><a class="code" href="structPVRTVec3.html#a15">00624</a>         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y, n);
00625         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z, n);
00626 
00627         <span class="comment">// Calculate x2+y2+z2/sqrt(x2+y2+z2)</span>
00628         <span class="keywordtype">int</span> f = <a class="code" href="structPVRTVec3.html#a21">dot</a>(*<span class="keyword">this</span>);
00629         f = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a1">PVRTF2X</a>(1.0f), <a class="code" href="PVRTFixedPoint_8h.html#a1">PVRTF2X</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTX2F</a>(f))));
00630 
00631         <span class="comment">// Multiply vector components by f</span>
00632         x = <a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTXMUL</a>(x, f);
00633         y = <a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTXMUL</a>(y, f);
00634         z = <a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTXMUL</a>(z, f);
00635 <span class="preprocessor">#else</span>
<a name="l00636"></a><a class="code" href="structPVRTVec3.html#a16">00636</a> <span class="preprocessor"></span>        <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec3.html#a18">length</a>();
00637         x =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x,len);
00638         y =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y,len);
00639         z =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z,len);
00640 <span class="preprocessor">#endif</span>
00641 <span class="preprocessor"></span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00642     }
00643 
00644 <span class="comment">/*!***************************************************************************</span>
00645 <span class="comment"> @Function          normalized</span>
00646 <span class="comment"> @Returns           returns the normalized value of the vector</span>
<a name="l00647"></a><a class="code" href="structPVRTVec3.html#a17">00647</a> <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
00648 <span class="comment">                    vector</span>
00649 <span class="comment">****************************************************************************/</span>
00650     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a20">normalized</a>()<span class="keyword"> const</span>
00651 <span class="keyword">    </span>{
00652         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00653 <span class="preprocessor">#if defined(PVRT_FIXED_POINT_ENABLE)</span>
00654 <span class="preprocessor"></span>        <span class="comment">// Scale vector by uniform value</span>
00655         <span class="keywordtype">int</span> n = <a class="code" href="PVRTFixedPoint_8h.html#a5">PVRTABS</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a5">PVRTABS</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a5">PVRTABS</a>(z);
00656         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x, n);
00657         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y, n);
<a name="l00658"></a><a class="code" href="structPVRTVec3.html#a18">00658</a>         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z, n);
00659 
00660         <span class="comment">// Calculate x2+y2+z2/sqrt(x2+y2+z2)</span>
00661         <span class="keywordtype">int</span> f = out.<a class="code" href="structPVRTVec3.html#a21">dot</a>(out);
00662         f = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a1">PVRTF2X</a>(1.0f), <a class="code" href="PVRTFixedPoint_8h.html#a1">PVRTF2X</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTX2F</a>(f))));
00663 
00664         <span class="comment">// Multiply vector components by f</span>
00665         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, f);
00666         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, f);
00667         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>, f);
00668 <span class="preprocessor">#else</span>
<a name="l00669"></a><a class="code" href="structPVRTVec3.html#a19">00669</a> <span class="preprocessor"></span>        <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec3.html#a18">length</a>();
00670         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x,len);
00671         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y,len);
00672         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z,len);
00673 <span class="preprocessor">#endif</span>
00674 <span class="preprocessor"></span>        <span class="keywordflow">return</span> out;
00675     }
00676 
00677 <span class="comment">/*!***************************************************************************</span>
00678 <span class="comment"> @Function          dot</span>
00679 <span class="comment"> @Input             rhs a single value</span>
00680 <span class="comment"> @Returns           scalar product</span>
00681 <span class="comment"> @Description       calculate the scalar product of two PVRTVec3s</span>
00682 <span class="comment">****************************************************************************/</span>
00683     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a21">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00684 <span class="keyword">    </span>{
00685         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00686     }
00687 
00688 <span class="comment">/*!***************************************************************************</span>
00689 <span class="comment"> @Function          cross</span>
00690 <span class="comment"> @Returns           returns three-dimensional vector</span>
00691 <span class="comment"> @Description       calculate the cross product of two PVRTVec3s</span>
00692 <span class="comment">****************************************************************************/</span>
00693     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a22">cross</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00694 <span class="keyword">    </span>{
00695         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00696         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00697         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00698         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00699         <span class="keywordflow">return</span> out;
00700     }
00701 
<a name="l00702"></a><a class="code" href="structPVRTVec3.html#a20">00702</a> <span class="comment">/*!***************************************************************************</span>
00703 <span class="comment"> @Function          ptr</span>
00704 <span class="comment"> @Returns           pointer</span>
00705 <span class="comment"> @Description       returns a pointer to memory containing the values of the</span>
00706 <span class="comment">                    PVRTVec3</span>
00707 <span class="comment">****************************************************************************/</span>
00708     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec3.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00709 };
00710 
00711 <span class="comment">/*!***************************************************************************</span>
00712 <span class="comment">** PVRTVec4 4 component vector</span>
00713 <span class="comment">****************************************************************************/</span>
00714 <span class="keyword">struct </span><a class="code" href="structPVRTVec4.html">PVRTVec4</a> : <span class="keyword">public</span> <a class="code" href="structPVRTVECTOR4f.html">PVRTVECTOR4</a>
00715 {
00716 <span class="comment">/*!***************************************************************************</span>
00717 <span class="comment">** Constructors</span>
00718 <span class="comment">****************************************************************************/</span>
00719 <span class="comment">/*!***************************************************************************</span>
00720 <span class="comment"> @Function          PVRTVec4</span>
00721 <span class="comment"> @Description       Blank constructor.</span>
00722 <span class="comment">*****************************************************************************/</span>
00723     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(){}
00724 
00725 <span class="comment">/*!***************************************************************************</span>
00726 <span class="comment"> @Function          PVRTVec3</span>
00727 <span class="comment"> @Description       Blank constructor.</span>
00728 <span class="comment">*****************************************************************************/</span>
00729     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> VERTTYPE vec)
00730     {
00731         <a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = vec; <a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = vec; <a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = vec; <a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = vec;
00732     }
00733 
00734 <span class="comment">/*!***************************************************************************</span>
00735 <span class="comment"> @Function          multiple value constructor</span>
<a name="l00736"></a><a class="code" href="structPVRTVec3.html#a21">00736</a> <span class="comment"> @Input             fX value of x component</span>
00737 <span class="comment"> @Input             fY value of y component</span>
00738 <span class="comment"> @Input             fZ value of z component</span>
00739 <span class="comment"> @Input             fW value of w component</span>
00740 <span class="comment"> @Description       Constructs a PVRTVec4 from 4 separate values</span>
00741 <span class="comment">****************************************************************************/</span>
00742     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(VERTTYPE fX, VERTTYPE fY, VERTTYPE fZ, VERTTYPE fW)
00743     {
00744         x = fX; y = fY; z = fZ; w = fW;
00745     }
00746 
<a name="l00747"></a><a class="code" href="structPVRTVec3.html#a22">00747</a> <span class="comment">/*!***************************************************************************</span>
00748 <span class="comment"> @Function          constructor from PVRTVec3</span>
00749 <span class="comment"> @Input             vec3 a PVRTVec3</span>
00750 <span class="comment"> @Input             fW value of w component</span>
00751 <span class="comment"> @Description       Constructs a PVRTVec4 from a vec3 and a w component</span>
00752 <span class="comment">****************************************************************************/</span>
00753     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec3, VERTTYPE fW)
00754     {
00755         x = vec3.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; y = vec3.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; z = vec3.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>; w = fW;
00756     }
00757 
00758 <span class="comment">/*!***************************************************************************</span>
00759 <span class="comment"> @Function          constructor from PVRTVec3</span>
00760 <span class="comment"> @Input             fX value of x component</span>
00761 <span class="comment"> @Input             vec3 a PVRTVec3</span>
00762 <span class="comment"> @Description       Constructs a vec4 from a vec3 and a w component</span>
<a name="l00763"></a><a class="code" href="structPVRTVec3.html#a23">00763</a> <span class="comment">****************************************************************************/</span>
00764     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(VERTTYPE fX, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec3)
00765     {
00766         x = fX; y = vec3.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; z = vec3.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; w = vec3.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00767     }
00768 
<a name="l00769"></a><a class="code" href="structPVRTVec4.html">00769</a> <span class="comment">/*!***************************************************************************</span>
00770 <span class="comment"> @Function          constructor from array</span>
00771 <span class="comment"> @Input             pVec a pointer to an array of four values</span>
00772 <span class="comment"> @Description       Constructs a PVRTVec4 from a pointer to an array of four values</span>
00773 <span class="comment">****************************************************************************/</span>
00774     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> VERTTYPE* pVec)
00775     {
00776         x = (*pVec++); y = (*pVec++); z= (*pVec++); w = *pVec;
00777     }
00778 
<a name="l00779"></a><a class="code" href="structPVRTVec4.html#a0">00779</a> <span class="comment">/*!***************************************************************************</span>
00780 <span class="comment">** PVRTVec4 Operators</span>
00781 <span class="comment">****************************************************************************/</span>
00782 <span class="comment">/*!***************************************************************************</span>
00783 <span class="comment"> @Function          +</span>
00784 <span class="comment"> @Input             rhs another PVRTVec4</span>
00785 <span class="comment"> @Returns           result of addition</span>
<a name="l00786"></a><a class="code" href="structPVRTVec4.html#a1">00786</a> <span class="comment"> @Description       Addition operator for PVRTVec4</span>
00787 <span class="comment">****************************************************************************/</span>
00788     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a6">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00789 <span class="keyword">    </span>{
00790         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00791         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = x+rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00792         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = y+rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00793         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = z+rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00794         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = w+rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00795         <span class="keywordflow">return</span> out;
00796     }
00797 
00798 <span class="comment">/*!***************************************************************************</span>
00799 <span class="comment"> @Function          -</span>
<a name="l00800"></a><a class="code" href="structPVRTVec4.html#a2">00800</a> <span class="comment"> @Input             rhs another PVRTVec4</span>
00801 <span class="comment"> @Returns           result of subtraction</span>
00802 <span class="comment"> @Description       Subtraction operator for PVRTVec4</span>
00803 <span class="comment">****************************************************************************/</span>
00804     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a7">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00805 <span class="keyword">    </span>{
00806         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00807         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = x-rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00808         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = y-rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00809         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = z-rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00810         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = w-rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00811         <span class="keywordflow">return</span> out;
<a name="l00812"></a><a class="code" href="structPVRTVec4.html#a3">00812</a>     }
00813 
00814 <span class="comment">/*!***************************************************************************</span>
00815 <span class="comment"> @Function          +=</span>
00816 <span class="comment"> @Input             rhs another PVRTVec4</span>
00817 <span class="comment"> @Returns           result of addition and assignment</span>
00818 <span class="comment"> @Description       Addition and assignment operator for PVRTVec4</span>
00819 <span class="comment">****************************************************************************/</span>
00820     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a8">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00821     {
00822         x +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00823         y +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
<a name="l00824"></a><a class="code" href="structPVRTVec4.html#a4">00824</a>         z +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00825         w +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00826         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00827     }
00828 
00829 <span class="comment">/*!***************************************************************************</span>
00830 <span class="comment"> @Function          -=</span>
00831 <span class="comment"> @Input             rhs another PVRTVec4</span>
00832 <span class="comment"> @Returns           result of subtraction and assignment</span>
00833 <span class="comment"> @Description       Subtraction and assignment operator for PVRTVec4</span>
00834 <span class="comment">****************************************************************************/</span>
<a name="l00835"></a><a class="code" href="structPVRTVec4.html#a5">00835</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a9">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00836     {
00837         x -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00838         y -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00839         z -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00840         w -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00841         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00842     }
00843 
00844 <span class="comment">/*!***************************************************************************</span>
00845 <span class="comment"> @Function          *</span>
00846 <span class="comment"> @Input             rhs a PVRTMat4</span>
00847 <span class="comment"> @Returns           result of multiplication</span>
00848 <span class="comment"> @Description       matrix multiplication for PVRTVec4 and PVRTMat4</span>
00849 <span class="comment">****************************************************************************/</span>
<a name="l00850"></a><a class="code" href="structPVRTVec4.html#a6">00850</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs) <span class="keyword">const</span>;
00851 
00852 <span class="comment">/*!***************************************************************************</span>
00853 <span class="comment"> @Function          *=</span>
00854 <span class="comment"> @Input             rhs a PVRTMat4</span>
00855 <span class="comment"> @Returns           result of multiplication and assignement</span>
00856 <span class="comment"> @Description       matrix multiplication and assignment for PVRTVec4 and PVRTMat4</span>
00857 <span class="comment">****************************************************************************/</span>
00858     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a11">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs);
00859 
00860 <span class="comment">/*!***************************************************************************</span>
00861 <span class="comment"> @Function          *</span>
00862 <span class="comment"> @Input             rhs a single dimension value</span>
00863 <span class="comment"> @Returns           result of multiplication</span>
00864 <span class="comment"> @Description       componentwise multiplication of a PVRTVec4 by a single value</span>
00865 <span class="comment">****************************************************************************/</span>
00866     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
<a name="l00867"></a><a class="code" href="structPVRTVec4.html#a7">00867</a> <span class="keyword">    </span>{
00868         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00869         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,rhs);
00870         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,rhs);
00871         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,rhs);
00872         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(w,rhs);
00873         <span class="keywordflow">return</span> out;
00874     }
00875 
00876 <span class="comment">/*!***************************************************************************</span>
00877 <span class="comment"> @Function          *=</span>
00878 <span class="comment"> @Input             rhs a single dimension value</span>
00879 <span class="comment"> @Returns           result of multiplication and assignment</span>
00880 <span class="comment"> @Description       componentwise multiplication and assignment of a PVRTVec4 by</span>
00881 <span class="comment">                a single value</span>
00882 <span class="comment">****************************************************************************/</span>
00883     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a11">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
<a name="l00884"></a><a class="code" href="structPVRTVec4.html#a8">00884</a>     {
00885         x = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,rhs);
00886         y = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,rhs);
00887         z = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,rhs);
00888         w = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(w,rhs);
00889         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00890     }
00891 
00892 <span class="comment">/*!***************************************************************************</span>
00893 <span class="comment"> @Function          /</span>
00894 <span class="comment"> @Input             rhs a single dimension value</span>
00895 <span class="comment"> @Returns           result of division</span>
00896 <span class="comment"> @Description       componentwise division of a PVRTVec4 by a single value</span>
00897 <span class="comment">****************************************************************************/</span>
00898     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a14">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00899 <span class="keyword">    </span>{
<a name="l00900"></a><a class="code" href="structPVRTVec4.html#a9">00900</a>         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00901         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x,rhs);
00902         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y,rhs);
00903         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z,rhs);
00904         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(w,rhs);
00905         <span class="keywordflow">return</span> out;
00906     }
00907 
00908 <span class="comment">/*!***************************************************************************</span>
00909 <span class="comment"> @Function          /=</span>
00910 <span class="comment"> @Input             rhs a single dimension value</span>
00911 <span class="comment"> @Returns           result of division and assignment</span>
00912 <span class="comment"> @Description       componentwise division and assignment of a PVRTVec4 by</span>
00913 <span class="comment">                    a single value</span>
00914 <span class="comment">****************************************************************************/</span>
00915     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a15">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00916     {
00917         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x,rhs);
00918         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y,rhs);
00919         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z,rhs);
00920         w = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(w,rhs);
00921         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00922     }
00923 
00924 <span class="comment">/*!***************************************************************************</span>
00925 <span class="comment"> @Function          *</span>
00926 <span class="comment"> @Input             lhs a single dimension value</span>
00927 <span class="comment"> @Input             rhs a PVRTVec4</span>
00928 <span class="comment"> @Returns           result of muliplication</span>
00929 <span class="comment"> @Description       componentwise multiplication of a PVRTVec4 by</span>
00930 <span class="comment">                    a single value</span>
00931 <span class="comment">****************************************************************************/</span>
00932 <span class="keyword">friend</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp;  rhs)
00933 {
<a name="l00934"></a><a class="code" href="structPVRTVec4.html#a12">00934</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00935     out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>);
00936     out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>);
00937     out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>);
00938     out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>);
00939     <span class="keywordflow">return</span> out;
00940 }
00941 
00942 <span class="comment">/*!***************************************************************************</span>
00943 <span class="comment"> @Function          ==</span>
00944 <span class="comment"> @Input             rhs a single value</span>
00945 <span class="comment"> @Returns           true if the two vectors are equal</span>
00946 <span class="comment"> @Description       PVRTVec4 equality operator</span>
00947 <span class="comment">****************************************************************************/</span>
00948 <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec4.html#a16">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00949 <span class="keyword"></span>{
00950     <span class="keywordflow">return</span> ((x == rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>) &amp;&amp; (y == rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>) &amp;&amp; (z == rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>) &amp;&amp; (w == rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>));
00951 }
<a name="l00952"></a><a class="code" href="structPVRTVec4.html#a13">00952</a> 
00953 <span class="comment">/*!***************************************************************************</span>
00954 <span class="comment">@Function           !=</span>
00955 <span class="comment">@Input              rhs a single value</span>
00956 <span class="comment">@Returns            true if the two vectors are not equal</span>
00957 <span class="comment">@Description        PVRTVec4 inequality operator</span>
00958 <span class="comment">    ****************************************************************************/</span>
00959 <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec4.html#a17">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00960 <span class="keyword"></span>{
00961     <span class="keywordflow">return</span> ((x != rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>) || (y != rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>) || (z != rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>) || (w != rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>));
00962 }
00963 <span class="comment">/*!***************************************************************************</span>
00964 <span class="comment">** Functions</span>
00965 <span class="comment">****************************************************************************/</span>
00966 <span class="comment">/*!***************************************************************************</span>
00967 <span class="comment"> @Function          lenSqr</span>
<a name="l00968"></a><a class="code" href="structPVRTVec4.html#a14">00968</a> <span class="comment"> @Returns           square of the magnitude of the vector</span>
00969 <span class="comment"> @Description       calculates the square of the magnitude of the vector</span>
00970 <span class="comment">****************************************************************************/</span>
00971     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a18">lenSqr</a>()<span class="keyword"> const</span>
00972 <span class="keyword">    </span>{
00973         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,y)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,z)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(w,w);
00974     }
00975 
00976 <span class="comment">/*!***************************************************************************</span>
00977 <span class="comment"> @Function          length</span>
00978 <span class="comment"> @Returns           the magnitude of the vector</span>
00979 <span class="comment"> @Description       calculates the magnitude of the vector</span>
00980 <span class="comment">****************************************************************************/</span>
00981     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a19">length</a>()<span class="keyword"> const</span>
00982 <span class="keyword">    </span>{
00983         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(z)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(z) + <a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(w)*<a class="code" href="PVRTFixedPoint_8h.html#a26">vt2f</a>(w)));
00984     }
00985 
<a name="l00986"></a><a class="code" href="structPVRTVec4.html#a15">00986</a> <span class="comment">/*!***************************************************************************</span>
00987 <span class="comment"> @Function          normalize</span>
00988 <span class="comment"> @Returns           normalized vector</span>
00989 <span class="comment"> @Description       calculates the normalized value of a PVRTVec4</span>
00990 <span class="comment">****************************************************************************/</span>
00991     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a20">normalize</a>()
00992     {
00993         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec4.html#a19">length</a>();
00994         x =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x,len);
00995         y =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y,len);
00996         z =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z,len);
00997         w =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(w,len);
00998         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00999     }
01000 <span class="comment">/*!***************************************************************************</span>
01001 <span class="comment"> @Function          normalized</span>
01002 <span class="comment"> @Returns           normalized vector</span>
01003 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
<a name="l01004"></a><a class="code" href="structPVRTVec4.html#n0">01004</a> <span class="comment">                    vector</span>
01005 <span class="comment">****************************************************************************/</span>
01006     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a21">normalized</a>()<span class="keyword"> const</span>
01007 <span class="keyword">    </span>{
01008         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01009         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec4.html#a19">length</a>();
01010         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(x,len);
01011         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(y,len);
01012         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(z,len);
01013         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> =<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(w,len);
01014         <span class="keywordflow">return</span> out;
01015     }
01016 
01017 <span class="comment">/*!***************************************************************************</span>
01018 <span class="comment"> @Function          dot</span>
01019 <span class="comment"> @Returns           scalar product</span>
01020 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
<a name="l01021"></a><a class="code" href="structPVRTVec4.html#a16">01021</a> <span class="comment">                    vector</span>
01022 <span class="comment">****************************************************************************/</span>
01023     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a22">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
01024 <span class="keyword">    </span>{
01025         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(w,rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>);
01026     }
01027 
01028 <span class="comment">/*!***************************************************************************</span>
01029 <span class="comment"> @Function          ptr</span>
01030 <span class="comment"> @Returns           pointer to vector values</span>
01031 <span class="comment"> @Description       returns a pointer to memory containing the values of the</span>
01032 <span class="comment">                    PVRTVec3</span>
<a name="l01033"></a><a class="code" href="structPVRTVec4.html#a17">01033</a> <span class="comment">****************************************************************************/</span>
01034     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec4.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
01035 };
01036 
01037 <span class="comment">/*!***************************************************************************</span>
01038 <span class="comment">** PVRTMat3 3x3 Matrix</span>
01039 <span class="comment">****************************************************************************/</span>
01040 <span class="keyword">struct </span><a class="code" href="structPVRTMat3.html">PVRTMat3</a> : <span class="keyword">public</span> <a class="code" href="classPVRTMATRIX3f.html">PVRTMATRIX3</a>
01041 {
01042 <span class="comment">/*!***************************************************************************</span>
01043 <span class="comment">** Constructors</span>
01044 <span class="comment">****************************************************************************/</span>
01045 <span class="comment">/*!***************************************************************************</span>
<a name="l01046"></a><a class="code" href="structPVRTVec4.html#a18">01046</a> <span class="comment"> @Function          PVRTMat3</span>
01047 <span class="comment"> @Description       Blank constructor.</span>
01048 <span class="comment">*****************************************************************************/</span>
01049     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(){}
01050 <span class="comment">/*!***************************************************************************</span>
01051 <span class="comment"> @Function          PVRTMat3</span>
01052 <span class="comment"> @Input             pMat an array of values for the matrix</span>
01053 <span class="comment"> @Description       Constructor from array.</span>
01054 <span class="comment">*****************************************************************************/</span>
01055     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(<span class="keyword">const</span> VERTTYPE* pMat)
01056     {
<a name="l01057"></a><a class="code" href="structPVRTVec4.html#a19">01057</a>         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>* ptr = f;
01058         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01059         {
01060             (*ptr++)=(*pMat++);
01061         }
01062     }
01063 
01064 <span class="comment">/*!***************************************************************************</span>
01065 <span class="comment"> @Function          PVRTMat3</span>
01066 <span class="comment"> @Input             m0 matrix value</span>
01067 <span class="comment"> @Input             m1 matrix value</span>
<a name="l01068"></a><a class="code" href="structPVRTVec4.html#a20">01068</a> <span class="comment"> @Input             m2 matrix value</span>
01069 <span class="comment"> @Input             m3 matrix value</span>
01070 <span class="comment"> @Input             m4 matrix value</span>
01071 <span class="comment"> @Input             m5 matrix value</span>
01072 <span class="comment"> @Input             m6 matrix value</span>
01073 <span class="comment"> @Input             m7 matrix value</span>
01074 <span class="comment"> @Input             m8 matrix value</span>
01075 <span class="comment"> @Description       Constructor from distinct values.</span>
01076 <span class="comment">*****************************************************************************/</span>
01077     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(VERTTYPE m0,VERTTYPE m1,VERTTYPE m2,
01078         VERTTYPE m3,VERTTYPE m4,VERTTYPE m5,
01079         VERTTYPE m6,VERTTYPE m7,VERTTYPE m8)
01080     {
01081         f[0]=m0;f[1]=m1;f[2]=m2;
01082         f[3]=m3;f[4]=m4;f[5]=m5;
01083         f[6]=m6;f[7]=m7;f[8]=m8;
<a name="l01084"></a><a class="code" href="structPVRTVec4.html#a21">01084</a>     }
01085 
01086 <span class="comment">/*!***************************************************************************</span>
01087 <span class="comment"> @Function          PVRTMat3</span>
01088 <span class="comment"> @Input             mat - a PVRTMat4</span>
01089 <span class="comment"> @Description       Constructor from 4x4 matrix - uses top left values</span>
01090 <span class="comment">*****************************************************************************/</span>
01091     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; mat);
01092 
01093 <span class="comment">/****************************************************************************</span>
01094 <span class="comment">** PVRTMat3 OPERATORS</span>
01095 <span class="comment">****************************************************************************/</span>
01096 <span class="comment">/*!***************************************************************************</span>
01097 <span class="comment"> @Function          ()</span>
01098 <span class="comment"> @Input             row         row of matrix</span>
01099 <span class="comment"> @Input             column      column of matrix</span>
01100 <span class="comment"> @Returns           value of element</span>
01101 <span class="comment"> @Description       Returns the value of the element at the specified row and column</span>
<a name="l01102"></a><a class="code" href="structPVRTVec4.html#a22">01102</a> <span class="comment">                    of the PVRTMat3</span>
01103 <span class="comment">*****************************************************************************/</span>
01104     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat3.html#a4">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> row, <span class="keyword">const</span> <span class="keywordtype">int</span> column)
01105     {
01106         <span class="keywordflow">return</span> f[column*3+row];
01107     }
01108 <span class="comment">/*!***************************************************************************</span>
01109 <span class="comment"> @Function          ()</span>
01110 <span class="comment"> @Input             row         row of matrix</span>
01111 <span class="comment"> @Input             column      column of matrix</span>
01112 <span class="comment"> @Returns           value of element</span>
01113 <span class="comment"> @Description       Returns the value of the element at the specified row and column</span>
<a name="l01114"></a><a class="code" href="structPVRTVec4.html#a23">01114</a> <span class="comment">                    of the PVRTMat3</span>
01115 <span class="comment">*****************************************************************************/</span>
01116     <span class="keyword">const</span> <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat3.html#a4">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> row, <span class="keyword">const</span> <span class="keywordtype">int</span> column)<span class="keyword"> const</span>
01117 <span class="keyword">    </span>{
01118         <span class="keywordflow">return</span> f[column*3+row];
01119     }
<a name="l01120"></a><a class="code" href="structPVRTMat3.html">01120</a> 
01121 <span class="comment">/*!***************************************************************************</span>
01122 <span class="comment"> @Function          *</span>
01123 <span class="comment"> @Input             rhs another PVRTMat3</span>
01124 <span class="comment"> @Returns           result of multiplication</span>
01125 <span class="comment"> @Description       Matrix multiplication of two 3x3 matrices.</span>
01126 <span class="comment">*****************************************************************************/</span>
01127     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01128 <span class="keyword">    </span>{
01129         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
<a name="l01130"></a><a class="code" href="structPVRTMat3.html#a0">01130</a>         <span class="comment">// col 1</span>
01131         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01132         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01133         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01134 
01135         <span class="comment">// col 2</span>
01136         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
<a name="l01137"></a><a class="code" href="structPVRTMat3.html#a1">01137</a>         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01138         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01139 
01140         <span class="comment">// col3</span>
01141         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01142         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01143         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01144         <span class="keywordflow">return</span> out;
01145     }
01146 
01147 <span class="comment">/*!***************************************************************************</span>
01148 <span class="comment"> @Function          +</span>
01149 <span class="comment"> @Input             rhs another PVRTMat3</span>
01150 <span class="comment"> @Returns           result of addition</span>
01151 <span class="comment"> @Description       element by element addition operator.</span>
01152 <span class="comment">*****************************************************************************/</span>
01153     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a7">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01154 <span class="keyword">    </span>{
01155         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01156         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01157         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01158         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01159         {
<a name="l01160"></a><a class="code" href="structPVRTMat3.html#a2">01160</a>             (*outptr++) = (*lptr++) + (*rptr++);
01161         }
01162         <span class="keywordflow">return</span> out;
01163     }
01164 
01165 <span class="comment">/*!***************************************************************************</span>
01166 <span class="comment"> @Function          -</span>
01167 <span class="comment"> @Input             rhs another PVRTMat3</span>
01168 <span class="comment"> @Returns           result of subtraction</span>
01169 <span class="comment"> @Description       element by element subtraction operator.</span>
01170 <span class="comment">*****************************************************************************/</span>
01171     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a8">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01172 <span class="keyword">    </span>{
01173         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01174         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01175         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01176         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01177         {
01178             (*outptr++) = (*lptr++) - (*rptr++);
01179         }
01180         <span class="keywordflow">return</span> out;
01181     }
01182 
01183 <span class="comment">/*!***************************************************************************</span>
01184 <span class="comment"> @Function          +=</span>
01185 <span class="comment"> @Input             rhs another PVRTMat3</span>
01186 <span class="comment"> @Returns           result of addition and assignment</span>
01187 <span class="comment"> @Description       element by element addition and assignment operator.</span>
01188 <span class="comment">*****************************************************************************/</span>
<a name="l01189"></a><a class="code" href="structPVRTMat3.html#a4">01189</a>     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a9">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01190     {
01191         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01192         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01193         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01194         {
01195             (*lptr++) += (*rptr++);
01196         }
01197         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01198     }
01199 
01200 <span class="comment">/*!***************************************************************************</span>
01201 <span class="comment"> @Function          -=</span>
<a name="l01202"></a><a class="code" href="structPVRTMat3.html#a5">01202</a> <span class="comment"> @Input             rhs another PVRTMat3</span>
01203 <span class="comment"> @Returns           result of subtraction and assignment</span>
01204 <span class="comment"> @Description       element by element subtraction and assignment operator.</span>
01205 <span class="comment">*****************************************************************************/</span>
01206     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a10">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01207     {
01208         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01209         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01210         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01211         {
01212             (*lptr++) -= (*rptr++);
01213         }
<a name="l01214"></a><a class="code" href="structPVRTMat3.html#a6">01214</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01215     }
01216 
01217 <span class="comment">/*!***************************************************************************</span>
01218 <span class="comment"> @Function          *=</span>
01219 <span class="comment"> @Input             rhs another PVRTMat3</span>
01220 <span class="comment"> @Returns           result of multiplication and assignment</span>
01221 <span class="comment"> @Description       Matrix multiplication and assignment of two 3x3 matrices.</span>
01222 <span class="comment">*****************************************************************************/</span>
01223     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a11">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01224     {
01225         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01226         <span class="comment">// col 1</span>
01227         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01228         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01229         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01230 
01231         <span class="comment">// col 2</span>
01232         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01233         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01234         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01235 
01236         <span class="comment">// col3</span>
01237         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01238         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01239         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01240         *<span class="keyword">this</span> = out;
<a name="l01241"></a><a class="code" href="structPVRTMat3.html#a7">01241</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01242     }
01243 
01244 <span class="comment">/*!***************************************************************************</span>
01245 <span class="comment"> @Function          *</span>
01246 <span class="comment"> @Input             rhs a single value</span>
01247 <span class="comment"> @Returns           result of multiplication and assignment</span>
01248 <span class="comment"> @Description       element multiplication by a single value.</span>
01249 <span class="comment">*****************************************************************************/</span>
01250     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> VERTTYPE rhs)
01251     {
01252         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;9; ++i)
01253         {
01254             f[i]*=rhs;
01255         }
01256         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01257     }
01258 <span class="comment">/*!***************************************************************************</span>
01259 <span class="comment"> @Function          *=</span>
<a name="l01260"></a><a class="code" href="structPVRTMat3.html#a8">01260</a> <span class="comment"> @Input             rhs a single value</span>
01261 <span class="comment"> @Returns           result of multiplication and assignment</span>
01262 <span class="comment"> @Description       element multiplication and assignment by a single value.</span>
01263 <span class="comment">*****************************************************************************/</span>
01264     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a11">operator*=</a>(<span class="keyword">const</span> VERTTYPE rhs)
01265     {
01266         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;9; ++i)
01267         {
01268             f[i]*=rhs;
01269         }
01270         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01271     }
01272 
01273 <span class="comment">/*!***************************************************************************</span>
01274 <span class="comment"> @Function          *</span>
01275 <span class="comment"> @Input             rhs another PVRTVec3</span>
01276 <span class="comment"> @Returns           result of multiplication</span>
01277 <span class="comment"> @Description       Matrix multiplication of 3x3 matrix and vec3</span>
01278 <span class="comment">*****************************************************************************/</span>
<a name="l01279"></a><a class="code" href="structPVRTMat3.html#a9">01279</a>     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
01280 <span class="keyword">    </span>{
01281         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
01282         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[6]);
01283         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[7]);
01284         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[8]);
01285 
01286         <span class="keywordflow">return</span> out;
01287     }
01288 
01289 
01290     <span class="comment">// FUNCTIONS</span>
01291 <span class="comment">/*!***************************************************************************</span>
01292 <span class="comment">** Functions</span>
01293 <span class="comment">*****************************************************************************/</span>
01294 <span class="comment">/*!***************************************************************************</span>
01295 <span class="comment"> @Function          determinant</span>
01296 <span class="comment"> @Returns           result of multiplication</span>
<a name="l01297"></a><a class="code" href="structPVRTMat3.html#a10">01297</a> <span class="comment"> @Description       Matrix multiplication and assignment of 3x3 matrix and vec3</span>
01298 <span class="comment">*****************************************************************************/</span>
01299     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTMat3.html#a15">determinant</a>()<span class="keyword"> const</span>
01300 <span class="keyword">    </span>{
01301         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],f[8])-<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],f[5])))
01302             - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],f[8])-<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],f[2])))
01303             + <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],f[5])-<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],f[2])));
01304     }
01305 
01306 <span class="comment">/*!***************************************************************************</span>
01307 <span class="comment"> @Function          inverse</span>
01308 <span class="comment"> @Returns           inverse mat3</span>
01309 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01310 <span class="comment">*****************************************************************************/</span>
01311     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a16">inverse</a>()<span class="keyword"> const</span>
01312 <span class="keyword">    </span>{
01313         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01314 
<a name="l01315"></a><a class="code" href="structPVRTMat3.html#a11">01315</a> 
01316         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> recDet = <a class="code" href="structPVRTMat3.html#a15">determinant</a>();
01317         <a class="code" href="PVRTGlobal_8h.html#a10">_ASSERT</a>(recDet!=0);
01318         recDet = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1.0f),recDet);
01319 
01320         <span class="comment">//TODO: deal with singular matrices with more than just an assert</span>
01321 
01322         <span class="comment">// inverse is 1/det * adjoint of M</span>
01323 
01324         <span class="comment">// adjoint is transpose of cofactor matrix</span>
01325 
01326         <span class="comment">// do transpose and cofactors in one step</span>
01327 
01328         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],f[8]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],f[7]);
01329         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],f[7]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],f[8]);
01330         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],f[5]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],f[4]);
01331 
01332         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],f[6]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],f[8]);
01333         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],f[8]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],f[6]);
01334         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],f[3]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],f[5]);
01335 
01336         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],f[7]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],f[6]);
01337         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],f[6]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],f[7]);
01338         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],f[4]) - <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],f[3]);
01339 
01340         out *= recDet;
01341         <span class="keywordflow">return</span> out;
01342     }
<a name="l01343"></a><a class="code" href="structPVRTMat3.html#a12">01343</a> 
01344 <span class="comment">/*!***************************************************************************</span>
01345 <span class="comment"> @Function          transpose</span>
01346 <span class="comment"> @Returns           transpose 3x3 matrix</span>
01347 <span class="comment"> @Description       Calculates the transpose of this matrix</span>
01348 <span class="comment">*****************************************************************************/</span>
01349     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a17">transpose</a>()<span class="keyword"> const</span>
01350 <span class="keyword">    </span>{
01351         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01352         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = f[0];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = f[1];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = f[2];
01353         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = f[3];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = f[4];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = f[5];
01354         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = f[6];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = f[7];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = f[8];
01355         <span class="keywordflow">return</span> out;
01356     }
01357 
<a name="l01358"></a><a class="code" href="structPVRTMat3.html#a13">01358</a> <span class="comment">/*!***************************************************************************</span>
01359 <span class="comment"> @Function          ptr</span>
01360 <span class="comment"> @Returns           pointer to an array of the elements of this PVRTMat3</span>
01361 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01362 <span class="comment">*****************************************************************************/</span>
01363     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTMat3.html#a18">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)&amp;f; }
01364 
01365 <span class="comment">/*!***************************************************************************</span>
01366 <span class="comment">** Static factory functions</span>
01367 <span class="comment">*****************************************************************************/</span>
01368 <span class="comment">/*!***************************************************************************</span>
01369 <span class="comment"> @Function          Identity</span>
01370 <span class="comment"> @Returns           a PVRTMat3 representation of the 3x3 identity matrix</span>
01371 <span class="comment"> @Description       Generates an identity matrix</span>
01372 <span class="comment">*****************************************************************************/</span>
01373     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e0">Identity</a>()
<a name="l01374"></a><a class="code" href="structPVRTMat3.html#a14">01374</a>     {
01375         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01376         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = 1;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = 0;
01377         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = 1;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = 0;
01378         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = 1;
01379         <span class="keywordflow">return</span> out;
01380     }
01381 
01382 <span class="comment">/*!***************************************************************************</span>
01383 <span class="comment"> @Function          RotationX</span>
01384 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01385 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01386 <span class="comment">                    degrees about the X axis</span>
01387 <span class="comment">*****************************************************************************/</span>
01388     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e1">RotationX</a>(VERTTYPE angle);
01389 
01390 <span class="comment">/*!***************************************************************************</span>
01391 <span class="comment"> @Function          RotationY</span>
01392 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01393 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01394 <span class="comment">                    degrees about the Y axis</span>
<a name="l01395"></a><a class="code" href="structPVRTMat3.html#a15">01395</a> <span class="comment">*****************************************************************************/</span>
01396     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e2">RotationY</a>(VERTTYPE angle);
01397 
01398 <span class="comment">/*!***************************************************************************</span>
01399 <span class="comment"> @Function          RotationZ</span>
01400 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01401 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01402 <span class="comment">                    degrees about the Z axis</span>
01403 <span class="comment">*****************************************************************************/</span>
01404     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e3">RotationZ</a>(VERTTYPE angle);
01405 
01406 <span class="comment">/*!***************************************************************************</span>
01407 <span class="comment"> @Function          Rotation2D</span>
<a name="l01408"></a><a class="code" href="structPVRTMat3.html#a16">01408</a> <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01409 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01410 <span class="comment">                    degrees about the Z axis</span>
01411 <span class="comment">*****************************************************************************/</span>
01412     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e4">Rotation2D</a>(VERTTYPE angle)
01413     {
01414         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#e3">RotationZ</a>(angle);
01415     }
01416 
01417 <span class="comment">/*!***************************************************************************</span>
01418 <span class="comment"> @Function          Scale</span>
01419 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01420 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
01421 <span class="comment">                    times in each axis.</span>
01422 <span class="comment">*****************************************************************************/</span>
01423     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e5">Scale</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy,<span class="keyword">const</span> VERTTYPE fz)
01424     {
01425         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(fx,0,0,
01426                         0,fy,0,
01427                         0,0,fz);
01428     }
01429 
01430 <span class="comment">/*!***************************************************************************</span>
01431 <span class="comment"> @Function          Scale2D</span>
01432 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01433 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
01434 <span class="comment">                    times in each axis.</span>
01435 <span class="comment">*****************************************************************************/</span>
01436     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e6">Scale2D</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy)
01437     {
01438         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(fx,0,0,
01439                         0,fy,0,
01440                         0,0,<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1));
01441     }
01442 
01443 <span class="comment">/*!***************************************************************************</span>
01444 <span class="comment"> @Function          Translation2D</span>
01445 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested translation</span>
01446 <span class="comment"> @Description       Calculates a matrix corresponding to a transformation</span>
<a name="l01447"></a><a class="code" href="structPVRTMat3.html#a17">01447</a> <span class="comment">                    of tx and ty times in each axis.</span>
01448 <span class="comment">*****************************************************************************/</span>
01449     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e7">Translation2D</a>(<span class="keyword">const</span> VERTTYPE tx, <span class="keyword">const</span> VERTTYPE ty)
01450     {
01451         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>( <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1),    0,  0,
01452                          0,    <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1),  0,
01453                         tx,         ty,  <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1));
01454     }
01455 
01456 };
01457 
01458 <span class="comment">/*!***************************************************************************</span>
01459 <span class="comment">** PVRTMat4 4x4 Matrix</span>
01460 <span class="comment">****************************************************************************/</span>
01461 <span class="keyword">struct </span><a class="code" href="structPVRTMat4.html">PVRTMat4</a> : <span class="keyword">public</span> <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>
<a name="l01462"></a><a class="code" href="structPVRTMat3.html#a18">01462</a> {
01463 <span class="comment">/*!***************************************************************************</span>
01464 <span class="comment">** Constructors</span>
01465 <span class="comment">****************************************************************************/</span>
01466 <span class="comment">/*!***************************************************************************</span>
01467 <span class="comment"> @Function          PVRTMat4</span>
01468 <span class="comment"> @Description       Blank constructor.</span>
01469 <span class="comment">*****************************************************************************/</span>
01470     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(){}
01471 <span class="comment">/*!***************************************************************************</span>
01472 <span class="comment"> @Function          PVRTMat4</span>
<a name="l01473"></a><a class="code" href="structPVRTMat3.html#e0">01473</a> <span class="comment"> @Input             m0 matrix value</span>
01474 <span class="comment"> @Input             m1 matrix value</span>
01475 <span class="comment"> @Input             m2 matrix value</span>
01476 <span class="comment"> @Input             m3 matrix value</span>
01477 <span class="comment"> @Input             m4 matrix value</span>
01478 <span class="comment"> @Input             m5 matrix value</span>
01479 <span class="comment"> @Input             m6 matrix value</span>
01480 <span class="comment"> @Input             m7 matrix value</span>
01481 <span class="comment"> @Input             m8 matrix value</span>
01482 <span class="comment"> @Input             m9 matrix value</span>
01483 <span class="comment"> @Input             m10 matrix value</span>
01484 <span class="comment"> @Input             m11 matrix value</span>
01485 <span class="comment"> @Input             m12 matrix value</span>
01486 <span class="comment"> @Input             m13 matrix value</span>
01487 <span class="comment"> @Input             m14 matrix value</span>
01488 <span class="comment"> @Input             m15 matrix value</span>
01489 <span class="comment"> @Description       Constructor from array.</span>
01490 <span class="comment">*****************************************************************************/</span>
01491     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(VERTTYPE m0,VERTTYPE m1,VERTTYPE m2,VERTTYPE m3,
01492         VERTTYPE m4,VERTTYPE m5,VERTTYPE m6,VERTTYPE m7,
01493         VERTTYPE m8,VERTTYPE m9,VERTTYPE m10,VERTTYPE m11,
01494         VERTTYPE m12,VERTTYPE m13,VERTTYPE m14,VERTTYPE m15)
01495     {
01496         f[0]=m0;f[1]=m1;f[2]=m2;f[3]=m3;
01497         f[4]=m4;f[5]=m5;f[6]=m6;f[7]=m7;
01498         f[8]=m8;f[9]=m9;f[10]=m10;f[11]=m11;
01499         f[12]=m12;f[13]=m13;f[14]=m14;f[15]=m15;
01500     }
01501 <span class="comment">/*!***************************************************************************</span>
01502 <span class="comment"> @Function          PVRTMat4</span>
01503 <span class="comment"> @Input             mat A pointer to an array of 16 VERTTYPEs</span>
01504 <span class="comment"> @Description       Constructor from distinct values.</span>
01505 <span class="comment">*****************************************************************************/</span>
01506     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(<span class="keyword">const</span> VERTTYPE* mat)
01507     {
01508         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>* ptr = f;
01509         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01510         {
01511             (*ptr++)=(*mat++);
01512         }
01513     }
01514 
01515 <span class="comment">/****************************************************************************</span>
<a name="l01516"></a><a class="code" href="structPVRTMat3.html#e4">01516</a> <span class="comment">** PVRTMat4 OPERATORS</span>
01517 <span class="comment">****************************************************************************/</span>
01518 <span class="comment">/*!***************************************************************************</span>
01519 <span class="comment"> @Function          ()</span>
01520 <span class="comment"> @Input             r - row of matrix</span>
01521 <span class="comment"> @Input             c - column of matrix</span>
01522 <span class="comment"> @Returns           value of element</span>
01523 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01524 <span class="comment">                    PVRTMat4</span>
01525 <span class="comment">*****************************************************************************/</span>
01526     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat4.html#a3">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)
01527     {
<a name="l01528"></a><a class="code" href="structPVRTMat3.html#e5">01528</a>         <span class="keywordflow">return</span> f[c*4+r];
01529     }
01530 
01531 <span class="comment">/*!***************************************************************************</span>
01532 <span class="comment"> @Function          ()</span>
01533 <span class="comment"> @Input             r - row of matrix</span>
01534 <span class="comment"> @Input             c - column of matrix</span>
01535 <span class="comment"> @Returns           value of element</span>
01536 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01537 <span class="comment">                    PVRTMat4</span>
01538 <span class="comment">*****************************************************************************/</span>
01539     <span class="keyword">const</span> <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat4.html#a3">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)<span class="keyword"> const</span>
01540 <span class="keyword">    </span>{
01541         <span class="keywordflow">return</span> f[c*4+r];
<a name="l01542"></a><a class="code" href="structPVRTMat3.html#e6">01542</a>     }
01543 
01544 <span class="comment">/*!***************************************************************************</span>
01545 <span class="comment"> @Function          *</span>
01546 <span class="comment"> @Input             rhs another PVRTMat4</span>
01547 <span class="comment"> @Returns           result of multiplication</span>
01548 <span class="comment"> @Description       Matrix multiplication of two 4x4 matrices.</span>
01549 <span class="comment">*****************************************************************************/</span>
01550     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs) <span class="keyword">const</span>;
01551 
01552 <span class="comment">/*!***************************************************************************</span>
01553 <span class="comment"> @Function          +</span>
01554 <span class="comment"> @Input             rhs another PVRTMat4</span>
01555 <span class="comment"> @Returns           result of addition</span>
<a name="l01556"></a><a class="code" href="structPVRTMat3.html#e7">01556</a> <span class="comment"> @Description       element by element addition operator.</span>
01557 <span class="comment">*****************************************************************************/</span>
01558     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a6">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)<span class="keyword"> const</span>
01559 <span class="keyword">    </span>{
01560         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01561         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01562         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01563         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01564         {
01565             (*outptr++) = (*lptr++) + (*rptr++);
01566         }
01567         <span class="keywordflow">return</span> out;
<a name="l01568"></a><a class="code" href="structPVRTMat4.html">01568</a>     }
01569 
01570 <span class="comment">/*!***************************************************************************</span>
01571 <span class="comment"> @Function          -</span>
01572 <span class="comment"> @Input             rhs another PVRTMat4</span>
01573 <span class="comment"> @Returns           result of subtraction</span>
01574 <span class="comment"> @Description       element by element subtraction operator.</span>
01575 <span class="comment">*****************************************************************************/</span>
01576     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a7">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)<span class="keyword"> const</span>
01577 <span class="keyword">    </span>{
<a name="l01578"></a><a class="code" href="structPVRTMat4.html#a0">01578</a>         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01579         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01580         {
01581             out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i] = f[i]-rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i];
01582         }
01583         <span class="keywordflow">return</span> out;
01584     }
01585 
01586 <span class="comment">/*!***************************************************************************</span>
01587 <span class="comment"> @Function          +=</span>
01588 <span class="comment"> @Input             rhs another PVRTMat4</span>
01589 <span class="comment"> @Returns           result of addition and assignment</span>
01590 <span class="comment"> @Description       element by element addition and assignment operator.</span>
01591 <span class="comment">*****************************************************************************/</span>
01592     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a8">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01593     {
01594         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01595         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01596         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01597         {
01598             (*lptr++) += (*rptr++);
01599         }
<a name="l01600"></a><a class="code" href="structPVRTMat4.html#a1">01600</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01601     }
01602 
01603 <span class="comment">/*!***************************************************************************</span>
01604 <span class="comment"> @Function          -=</span>
01605 <span class="comment"> @Input             rhs another PVRTMat4</span>
01606 <span class="comment"> @Returns           result of subtraction and assignment</span>
01607 <span class="comment"> @Description       element by element subtraction and assignment operator.</span>
01608 <span class="comment">*****************************************************************************/</span>
01609     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a9">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01610     {
01611         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *lptr = f;
01612         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01613         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01614         {
01615             (*lptr++) -= (*rptr++);
<a name="l01616"></a><a class="code" href="structPVRTMat4.html#a2">01616</a>         }
01617         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01618     }
01619 
01620 
01621 <span class="comment">/*!***************************************************************************</span>
01622 <span class="comment"> @Function          *=</span>
01623 <span class="comment"> @Input             rhs another PVRTMat4</span>
01624 <span class="comment"> @Returns           result of multiplication and assignment</span>
01625 <span class="comment"> @Description       Matrix multiplication and assignment of two 4x4 matrices.</span>
01626 <span class="comment">*****************************************************************************/</span>
01627     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01628     {
01629         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
01630         <span class="comment">// col 0</span>
01631         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01632         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01633         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01634         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01635 
01636         <span class="comment">// col 1</span>
<a name="l01637"></a><a class="code" href="structPVRTMat4.html#a3">01637</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01638         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01639         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01640         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01641 
01642         <span class="comment">// col 2</span>
01643         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01644         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] =   <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01645         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01646         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01647 
01648         <span class="comment">// col 3</span>
01649         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01650         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
<a name="l01651"></a><a class="code" href="structPVRTMat4.html#a4">01651</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01652         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] =  <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01653 
01654         *<span class="keyword">this</span> = result;
01655         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01656     }
01657 
01658 <span class="comment">/*!***************************************************************************</span>
01659 <span class="comment"> @Function          *</span>
01660 <span class="comment"> @Input             rhs a single value</span>
01661 <span class="comment"> @Returns           result of multiplication and assignment</span>
01662 <span class="comment"> @Description       element multiplication by a single value.</span>
01663 <span class="comment">*****************************************************************************/</span>
01664     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> VERTTYPE rhs)
01665     {
01666         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01667         {
01668             f[i]*=rhs;
01669         }
01670         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01671     }
<a name="l01672"></a><a class="code" href="structPVRTMat4.html#a6">01672</a> <span class="comment">/*!***************************************************************************</span>
01673 <span class="comment"> @Function          *=</span>
01674 <span class="comment"> @Input             rhs a single value</span>
01675 <span class="comment"> @Returns           result of multiplication and assignment</span>
01676 <span class="comment"> @Description       element multiplication and assignment by a single value.</span>
01677 <span class="comment">*****************************************************************************/</span>
01678     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE rhs)
01679     {
01680         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01681         {
01682             f[i]*=rhs;
01683         }
01684         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01685     }
01686 
01687 <span class="comment">/*!***************************************************************************</span>
01688 <span class="comment"> @Function          =</span>
01689 <span class="comment"> @Input             rhs another PVRTMat4</span>
01690 <span class="comment"> @Returns           result of assignment</span>
<a name="l01691"></a><a class="code" href="structPVRTMat4.html#a7">01691</a> <span class="comment"> @Description       element assignment operator.</span>
01692 <span class="comment">*****************************************************************************/</span>
01693     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a13">operator=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01694     {
01695         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01696         {
01697             f[i] =rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i];
01698         }
01699         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01700     }
01701 <span class="comment">/*!***************************************************************************</span>
01702 <span class="comment"> @Function          *</span>
01703 <span class="comment"> @Input             rhs a PVRTVec4</span>
01704 <span class="comment"> @Returns           result of multiplication</span>
01705 <span class="comment"> @Description       Matrix multiplication of 4x4 matrix and vec3</span>
01706 <span class="comment">*****************************************************************************/</span>
01707     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
<a name="l01708"></a><a class="code" href="structPVRTMat4.html#a8">01708</a> <span class="keyword">    </span>{
01709         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01710         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[8])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[12]);
01711         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[9])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[13]);
01712         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[10])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[14]);
01713         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[11])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[15]);
01714 
01715         <span class="keywordflow">return</span> out;
01716     }
01717 
01718 <span class="comment">/*!***************************************************************************</span>
01719 <span class="comment"> @Function          *=</span>
01720 <span class="comment"> @Input             rhs a PVRTVec4</span>
01721 <span class="comment"> @Returns           result of multiplication and assignment</span>
01722 <span class="comment"> @Description       Matrix multiplication and assignment of 4x4 matrix and vec3</span>
01723 <span class="comment">*****************************************************************************/</span>
01724     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
01725 <span class="keyword">    </span>{
<a name="l01726"></a><a class="code" href="structPVRTMat4.html#a9">01726</a>         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01727         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[8])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[12]);
01728         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[9])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[13]);
01729         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[10])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[14]);
01730         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[11])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[15]);
01731 
01732         <span class="keywordflow">return</span> out;
01733     }
01734 
01735 <span class="comment">/*!***************************************************************************</span>
01736 <span class="comment"> @Function          inverse</span>
01737 <span class="comment"> @Returns           inverse mat4</span>
01738 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01739 <span class="comment">                    The matrix must be of the form :</span>
01740 <span class="comment">                    A 0</span>
01741 <span class="comment">                    C 1</span>
01742 <span class="comment">                    Where A is a 3x3 matrix and C is a 1x3 matrix.</span>
01743 <span class="comment">*****************************************************************************/</span>
01744     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a16">inverse</a>() <span class="keyword">const</span>;
<a name="l01745"></a><a class="code" href="structPVRTMat4.html#a10">01745</a> 
01746 <span class="comment">/*!***************************************************************************</span>
01747 <span class="comment"> @Function          inverseEx</span>
01748 <span class="comment"> @Returns           inverse mat4</span>
01749 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01750 <span class="comment">                    Uses a linear equation solver and the knowledge that M.M^-1=I.</span>
01751 <span class="comment">                    Use this fn to calculate the inverse of matrices that</span>
01752 <span class="comment">                    inverse() cannot.</span>
01753 <span class="comment">*****************************************************************************/</span>
01754     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a17">inverseEx</a>()<span class="keyword"> const</span>
01755 <span class="keyword">    </span>{
01756         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01757         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        *ppRows[4];
01758         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        pRes[4];
01759         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>        pIn[20];
01760         <span class="keywordtype">int</span>             i, j;
01761 
01762         <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)
01763             ppRows[i] = &amp;pIn[i * 5];
01764 
01765         <span class="comment">/* Solve 4 sets of 4 linear equations */</span>
01766         <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)
01767         {
01768             <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j)
01769             {
01770                 ppRows[j][0] = <a class="code" href="structPVRTMat4.html#e0">PVRTMat4::Identity</a>().<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i + 4 * j];
01771                 memcpy(&amp;ppRows[j][1], &amp;f[j * 4], 4 * <span class="keyword">sizeof</span>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>));
01772             }
01773 
01774             <a class="code" href="PVRTVector_8h.html#a0">PVRTLinearEqSolve</a>(pRes, (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>**)ppRows, 4);
01775 
01776             <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j)
01777             {
01778                 out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i + 4 * j] = pRes[j];
01779             }
01780         }
01781 
01782         <span class="keywordflow">return</span> out;
<a name="l01783"></a><a class="code" href="structPVRTMat4.html#a11">01783</a>     }
01784 
01785 <span class="comment">/*!***************************************************************************</span>
01786 <span class="comment"> @Function          transpose</span>
01787 <span class="comment"> @Returns           transpose mat4</span>
01788 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01789 <span class="comment">*****************************************************************************/</span>
01790     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a18">transpose</a>()<span class="keyword"> const</span>
01791 <span class="keyword">    </span>{
01792         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01793         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = f[0];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = f[4];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = f[8];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = f[12];
01794         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] = f[1];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] = f[5];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] = f[9];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] = f[13];
01795         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] = f[2];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] = f[6];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = f[10];      out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = f[14];
01796         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] = f[3];       out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] = f[7];       out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] = f[11];      out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] = f[15];
01797         <span class="keywordflow">return</span> out;
<a name="l01798"></a><a class="code" href="structPVRTMat4.html#a12">01798</a>     }
01799 
01800 <span class="comment">/*!***************************************************************************</span>
01801 <span class="comment"> @Function          postTranslate</span>
01802 <span class="comment"> @Input             tx distance of translation in x axis</span>
01803 <span class="comment"> @Input             ty distance of translation in y axis</span>
01804 <span class="comment"> @Input             tz distance of translation in z axis</span>
01805 <span class="comment"> @Returns           Returns this</span>
01806 <span class="comment"> @Description       Alters the translation component of the transformation matrix.</span>
01807 <span class="comment">*****************************************************************************/</span>
01808     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(VERTTYPE tx, VERTTYPE ty, VERTTYPE tz)
01809     {
01810         f[12] += <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(tx,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(ty,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(tz,f[8]);
01811         f[13] += <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(tx,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(ty,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(tz,f[9]);
01812         f[14] += <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(tx,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(ty,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(tz,f[10]);
01813         f[15] += <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(tx,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(ty,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(tz,f[11]);
<a name="l01814"></a><a class="code" href="structPVRTMat4.html#a13">01814</a> 
01815 <span class="comment">//          col(3) += tx * col(0) + ty * col(1) + tz * col(2);</span>
01816         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01817     }
01818 
01819 <span class="comment">/*!***************************************************************************</span>
01820 <span class="comment"> @Function          postTranslate</span>
01821 <span class="comment"> @Input             tvec translation vector</span>
01822 <span class="comment"> @Returns           Returns this</span>
01823 <span class="comment"> @Description       Alters the translation component of the transformation matrix.</span>
01824 <span class="comment">*****************************************************************************/</span>
01825     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; tvec)
01826     {
01827         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(tvec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01828     }
<a name="l01829"></a><a class="code" href="structPVRTMat4.html#a14">01829</a> 
01830 <span class="comment">/*!***************************************************************************</span>
01831 <span class="comment"> @Function          postTranslate</span>
01832 <span class="comment"> @Input             tx distance of translation in x axis</span>
01833 <span class="comment"> @Input             ty distance of translation in y axis</span>
01834 <span class="comment"> @Input             tz distance of translation in z axis</span>
01835 <span class="comment"> @Returns           Returns this</span>
01836 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01837 <span class="comment">*****************************************************************************/</span>
01838     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(VERTTYPE tx, VERTTYPE ty, VERTTYPE tz)
01839     {
01840         f[0]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],tx); f[4]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],tx); f[8]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[11],tx);    f[12]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[15],tx);
01841         f[1]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],ty); f[5]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],ty); f[9]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[11],ty);    f[13]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[15],ty);
01842         f[2]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[3],tz); f[6]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[7],tz); f[10]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[11],tz);   f[14]+=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(f[15],tz);
01843 
01844 <span class="comment">//          row(0) += tx * row(3);</span>
01845 <span class="comment">//          row(1) += ty * row(3);</span>
01846 <span class="comment">//          row(2) += tz * row(3);</span>
<a name="l01847"></a><a class="code" href="structPVRTMat4.html#a15">01847</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01848     }
01849 
01850 <span class="comment">/*!***************************************************************************</span>
01851 <span class="comment"> @Function          postTranslate</span>
01852 <span class="comment"> @Input             tvec translation vector</span>
01853 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01854 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01855 <span class="comment">*****************************************************************************/</span>
01856     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; tvec)
01857     {
01858         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(tvec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01859     }
01860 <span class="comment">/*!***************************************************************************</span>
01861 <span class="comment"> @Function          ptr</span>
01862 <span class="comment"> @Returns           pointer to an array of the elements of this PVRTMat4</span>
01863 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01864 <span class="comment">*****************************************************************************/</span>
01865     <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTMat4.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>*)&amp;f; }
01866 
01867 <span class="comment">/*!***************************************************************************</span>
01868 <span class="comment">** Static factory functions</span>
01869 <span class="comment">*****************************************************************************/</span>
01870 <span class="comment">/*!***************************************************************************</span>
01871 <span class="comment"> @Function          Identity</span>
01872 <span class="comment"> @Returns           a PVRTMat4 representation of the 4x4 identity matrix</span>
01873 <span class="comment"> @Description       Generates an identity matrix</span>
01874 <span class="comment">*****************************************************************************/</span>
01875     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e0">Identity</a>()
01876     {
01877         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01878         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = 0;
<a name="l01879"></a><a class="code" href="structPVRTMat4.html#a17">01879</a>         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] = <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] = 0;
01880         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = 0;
01881         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] = <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1);
01882         <span class="keywordflow">return</span> out;
01883     }
01884 
01885 <span class="comment">/*!***************************************************************************</span>
01886 <span class="comment"> @Function          RotationX</span>
01887 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01888 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01889 <span class="comment">                    degrees about the X axis</span>
01890 <span class="comment">*****************************************************************************/</span>
01891     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e1">RotationX</a>(VERTTYPE angle);
01892 <span class="comment">/*!***************************************************************************</span>
01893 <span class="comment"> @Function          RotationY</span>
01894 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01895 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01896 <span class="comment">                    degrees about the Y axis</span>
01897 <span class="comment">*****************************************************************************/</span>
01898     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e2">RotationY</a>(VERTTYPE angle);
01899 <span class="comment">/*!***************************************************************************</span>
01900 <span class="comment"> @Function          RotationZ</span>
01901 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01902 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01903 <span class="comment">                    degrees about the Z axis</span>
01904 <span class="comment">*****************************************************************************/</span>
01905     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e3">RotationZ</a>(VERTTYPE angle);
01906 
01907 <span class="comment">/*!***************************************************************************</span>
01908 <span class="comment"> @Function          Scale</span>
01909 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01910 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
01911 <span class="comment">                    times in each axis.</span>
01912 <span class="comment">*****************************************************************************/</span>
01913     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e4">Scale</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy,<span class="keyword">const</span> VERTTYPE fz)
01914     {
01915         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(fx,0,0,0,
<a name="l01916"></a><a class="code" href="structPVRTMat4.html#a18">01916</a>             0,fy,0,0,
01917             0,0,fz,0,
01918             0,0,0,<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1));
01919     }
01920 
01921 <span class="comment">/*!***************************************************************************</span>
01922 <span class="comment"> @Function          Scale</span>
01923 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01924 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of the given vector.</span>
01925 <span class="comment">*****************************************************************************/</span>
01926     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e4">Scale</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec)
01927     {
01928         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e4">Scale</a>(vec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, vec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, vec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01929     }
01930 
01931 <span class="comment">/*!***************************************************************************</span>
01932 <span class="comment"> @Function          Translation</span>
01933 <span class="comment"> @Returns           a PVRTMat4 corresponding to the requested translation</span>
01934 <span class="comment"> @Description       Calculates a 4x4 matrix corresponding to a transformation</span>
<a name="l01935"></a><a class="code" href="structPVRTMat4.html#a19">01935</a> <span class="comment">                    of tx, ty and tz distance in each axis.</span>
01936 <span class="comment">*****************************************************************************/</span>
01937     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e6">Translation</a>(<span class="keyword">const</span> VERTTYPE tx, <span class="keyword">const</span> VERTTYPE ty, <span class="keyword">const</span> VERTTYPE tz)
01938     {
01939         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1),0,0,0,
01940             0,<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1),0,0,
01941             0,0,<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1),0,
01942             tx,ty,tz,<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1));
01943     }
01944 
01945 <span class="comment">/*!***************************************************************************</span>
01946 <span class="comment"> @Function          Translation</span>
01947 <span class="comment"> @Returns           a PVRTMat4 corresponding to the requested translation</span>
01948 <span class="comment"> @Description       Calculates a 4x4 matrix corresponding to a transformation</span>
01949 <span class="comment">                    of tx, ty and tz distance in each axis as taken from the</span>
01950 <span class="comment">                    given vector.</span>
01951 <span class="comment">*****************************************************************************/</span>
01952 
<a name="l01953"></a><a class="code" href="structPVRTMat4.html#a20">01953</a>     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e6">Translation</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec)
01954     {
01955         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e6">Translation</a>(vec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, vec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, vec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01956     }
01957 
01958 <span class="comment">/*!***************************************************************************</span>
01959 <span class="comment">** Clipspace enum</span>
01960 <span class="comment">** Determines whether clip space Z ranges from -1 to 1 (OGL) or from 0 to 1 (D3D)</span>
01961 <span class="comment">*****************************************************************************/</span>
01962     <span class="keyword">enum</span> eClipspace { OGL, D3D };
01963 
01964 <span class="comment">/*!***************************************************************************</span>
01965 <span class="comment"> @Function          Ortho</span>
01966 <span class="comment"> @Input             left view plane</span>
<a name="l01967"></a><a class="code" href="structPVRTMat4.html#a21">01967</a> <span class="comment"> @Input             top view plane</span>
01968 <span class="comment"> @Input             right view plane</span>
01969 <span class="comment"> @Input             bottom view plane</span>
01970 <span class="comment"> @Input             nearPlane the near rendering plane</span>
01971 <span class="comment"> @Input             farPlane the far rendering plane</span>
01972 <span class="comment"> @Input             cs which clipspace convention is being used</span>
01973 <span class="comment"> @Input             bRotate is the viewport in portrait or landscape mode</span>
01974 <span class="comment"> @Returns           Returns the orthogonal projection matrix defined by the passed parameters</span>
01975 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01976 <span class="comment">*****************************************************************************/</span>
01977     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e8">Ortho</a>(VERTTYPE left, VERTTYPE top, VERTTYPE right,
01978         VERTTYPE bottom, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01979     {
01980         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcplmr = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(left - right));
01981         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpbmt = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(bottom - top));
01982         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpnmf = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>(1),(nearPlane - farPlane));
01983 
01984         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
01985 
<a name="l01986"></a><a class="code" href="structPVRTMat4.html#a22">01986</a>         <span class="keywordflow">if</span> (bRotate)
01987         {
01988             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(2,rcplmr); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(-(right+left),rcplmr);
01989             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(-2,rcpbmt); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>((top+bottom),rcpbmt);
01990         }
01991         <span class="keywordflow">else</span>
01992         {
01993             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(-2,rcplmr); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(right+left,rcplmr);
01994             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(-2,rcpbmt); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>((top+bottom),rcpbmt);
01995         }
<a name="l01996"></a><a class="code" href="structPVRTMat4.html#a23">01996</a>         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
01997         {
01998             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=-rcpnmf;   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(nearPlane,rcpnmf);
01999         }
02000         <span class="keywordflow">else</span>
02001         {
02002             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(-2,rcpnmf);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(nearPlane + farPlane,rcpnmf);
02003         }
02004         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=1;
02005 
02006         <span class="keywordflow">return</span> result;
<a name="l02007"></a><a class="code" href="structPVRTMat4.html#e0">02007</a>     }
02008 
02009 
02010 <span class="comment">/*!***************************************************************************</span>
02011 <span class="comment"> @Function          LookAtRH</span>
02012 <span class="comment"> @Input             vEye position of 'camera'</span>
02013 <span class="comment"> @Input             vAt target that camera points at</span>
02014 <span class="comment"> @Input             vUp up vector for camera</span>
02015 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
02016 <span class="comment"> @Description       Create a look-at view matrix for a right hand coordinate</span>
02017 <span class="comment">                    system</span>
02018 <span class="comment">*****************************************************************************/</span>
02019     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e9">LookAtRH</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp)
02020         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">LookAt</a>(vEye, vAt, vUp, <span class="keyword">true</span>); }
02021 <span class="comment">/*!***************************************************************************</span>
02022 <span class="comment"> @Function          LookAtLH</span>
02023 <span class="comment"> @Input             vEye position of 'camera'</span>
02024 <span class="comment"> @Input             vAt target that camera points at</span>
02025 <span class="comment"> @Input             vUp up vector for camera</span>
02026 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
02027 <span class="comment"> @Description       Create a look-at view matrix for a left hand coordinate</span>
02028 <span class="comment">                    system</span>
02029 <span class="comment">*****************************************************************************/</span>
02030     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e10">LookAtLH</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp)
02031         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">LookAt</a>(vEye, vAt, vUp, <span class="keyword">false</span>); }
02032 
02033 <span class="comment">/*!***************************************************************************</span>
02034 <span class="comment"> @Function      PerspectiveRH</span>
02035 <span class="comment"> @Input         width       width of viewplane</span>
02036 <span class="comment"> @Input         height      height of viewplane</span>
02037 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02038 <span class="comment"> @Input         farPlane    far clipping distance</span>
02039 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02040 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02041 <span class="comment"> @Returns       Perspective matrix</span>
02042 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02043 <span class="comment">                system</span>
02044 <span class="comment">*****************************************************************************/</span>
02045     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e11">PerspectiveRH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane,
02046         VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02047         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">Perspective</a>(width, height, nearPlane, farPlane, cs, <span class="keyword">true</span>, bRotate); }
02048 
<a name="l02049"></a><a class="code" href="structPVRTMat4.html#e4">02049</a> <span class="comment">/*!***************************************************************************</span>
02050 <span class="comment"> @Function      PerspectiveLH</span>
02051 <span class="comment"> @Input         width       width of viewplane</span>
02052 <span class="comment"> @Input         height      height of viewplane</span>
02053 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02054 <span class="comment"> @Input         farPlane    far clipping distance</span>
02055 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02056 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02057 <span class="comment"> @Returns       Perspective matrix</span>
02058 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02059 <span class="comment">                system</span>
02060 <span class="comment">*****************************************************************************/</span>
02061     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e12">PerspectiveLH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02062         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">Perspective</a>(width, height, nearPlane, farPlane, cs, <span class="keyword">false</span>, bRotate); }
<a name="l02063"></a><a class="code" href="structPVRTMat4.html#e5">02063</a> 
02064 <span class="comment">/*!***************************************************************************</span>
02065 <span class="comment"> @Function      PerspectiveFloatDepthRH</span>
02066 <span class="comment"> @Input         width       width of viewplane</span>
02067 <span class="comment"> @Input         height      height of viewplane</span>
02068 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02069 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02070 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02071 <span class="comment"> @Returns       Perspective matrix</span>
02072 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02073 <span class="comment">                system</span>
02074 <span class="comment">*****************************************************************************/</span>
<a name="l02075"></a><a class="code" href="structPVRTMat4.html#e6">02075</a>     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e13">PerspectiveFloatDepthRH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02076         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFloatDepth</a>(width, height, nearPlane, cs, <span class="keyword">true</span>, bRotate); }
02077 
02078 <span class="comment">/*!***************************************************************************</span>
02079 <span class="comment"> @Function      PerspectiveFloatDepthLH</span>
02080 <span class="comment"> @Input         width       width of viewplane</span>
02081 <span class="comment"> @Input         height      height of viewplane</span>
02082 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02083 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02084 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02085 <span class="comment"> @Returns       Perspective matrix</span>
02086 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02087 <span class="comment">                system</span>
02088 <span class="comment">*****************************************************************************/</span>
02089     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e14">PerspectiveFloatDepthLH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02090         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFloatDepth</a>(width, height, nearPlane, cs, <span class="keyword">false</span>, bRotate); }
02091 
<a name="l02092"></a><a class="code" href="structPVRTMat4.html#e7">02092</a> <span class="comment">/*!***************************************************************************</span>
02093 <span class="comment"> @Function      PerspectiveFovRH</span>
02094 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02095 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02096 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02097 <span class="comment"> @Input         farPlane    far clipping distance</span>
02098 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02099 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02100 <span class="comment"> @Returns       Perspective matrix</span>
<a name="l02101"></a><a class="code" href="structPVRTMat4.html#w2">02101</a> <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02102 <span class="comment">                system</span>
02103 <span class="comment">*****************************************************************************/</span>
02104     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e15">PerspectiveFovRH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02105         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e22">PerspectiveFov</a>(fovy, aspect, nearPlane, farPlane, cs, <span class="keyword">true</span>, bRotate); }
02106 <span class="comment">/*!***************************************************************************</span>
02107 <span class="comment"> @Function      PerspectiveFovLH</span>
02108 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02109 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02110 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02111 <span class="comment"> @Input         farPlane    far clipping distance</span>
02112 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02113 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02114 <span class="comment"> @Returns       Perspective matrix</span>
02115 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02116 <span class="comment">                system</span>
<a name="l02117"></a><a class="code" href="structPVRTMat4.html#e8">02117</a> <span class="comment">*****************************************************************************/</span>
02118     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e16">PerspectiveFovLH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02119         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e22">PerspectiveFov</a>(fovy, aspect, nearPlane, farPlane, cs, <span class="keyword">false</span>, bRotate); }
02120 
02121 <span class="comment">/*!***************************************************************************</span>
02122 <span class="comment"> @Function      PerspectiveFovRH</span>
02123 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02124 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02125 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02126 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02127 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02128 <span class="comment"> @Returns       Perspective matrix</span>
02129 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02130 <span class="comment">                system</span>
02131 <span class="comment">*****************************************************************************/</span>
02132     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e17">PerspectiveFovFloatDepthRH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02133         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e23">PerspectiveFovFloatDepth</a>(fovy, aspect, nearPlane, cs, <span class="keyword">true</span>, bRotate); }
02134 <span class="comment">/*!***************************************************************************</span>
02135 <span class="comment"> @Function      PerspectiveFovLH</span>
02136 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02137 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02138 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02139 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02140 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02141 <span class="comment"> @Returns       Perspective matrix</span>
02142 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02143 <span class="comment">                system</span>
02144 <span class="comment">*****************************************************************************/</span>
02145     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e18">PerspectiveFovFloatDepthLH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02146         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e23">PerspectiveFovFloatDepth</a>(fovy, aspect, nearPlane, cs, <span class="keyword">false</span>, bRotate); }
02147 
02148 <span class="comment">/*!***************************************************************************</span>
02149 <span class="comment"> @Function          LookAt</span>
02150 <span class="comment"> @Input             vEye position of 'camera'</span>
02151 <span class="comment"> @Input             vAt target that camera points at</span>
02152 <span class="comment"> @Input             vUp up vector for camera</span>
02153 <span class="comment"> @Input             bRightHanded handedness of coordinate system</span>
02154 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
02155 <span class="comment"> @Description       Create a look-at view matrix</span>
02156 <span class="comment">*****************************************************************************/</span>
02157     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e19">LookAt</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp, <span class="keywordtype">bool</span> bRightHanded)
02158     {
02159         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> vForward, vUpNorm, vSide;
<a name="l02160"></a><a class="code" href="structPVRTMat4.html#e9">02160</a>         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02161 
02162         vForward = (bRightHanded) ? vEye - vAt : vAt - vEye;
02163 
02164         vForward.<a class="code" href="structPVRTVec3.html#a19">normalize</a>();
02165         vUpNorm = vUp.<a class="code" href="structPVRTVec3.html#a20">normalized</a>();
02166         vSide   = vUpNorm.<a class="code" href="structPVRTVec3.html#a22">cross</a>( vForward);
02167         vUpNorm = vForward.<a class="code" href="structPVRTVec3.html#a22">cross</a>(vSide);
02168 
02169         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;        result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02170         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02171         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=0;
<a name="l02172"></a><a class="code" href="structPVRTMat4.html#e10">02172</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]=0;          result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;          result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=0;             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1);
02173 
02174 
02175         result.<a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(-vEye);
02176         <span class="keywordflow">return</span> result;
02177     }
02178 
02179 <span class="comment">/*!***************************************************************************</span>
02180 <span class="comment"> @Function      Perspective</span>
02181 <span class="comment"> @Input         width       width of viewplane</span>
02182 <span class="comment"> @Input         height      height of viewplane</span>
02183 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02184 <span class="comment"> @Input         farPlane    far clipping distance</span>
02185 <span class="comment"> @Input         cs          which clipspace convention is being used</span>
02186 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02187 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
<a name="l02188"></a><a class="code" href="structPVRTMat4.html#e11">02188</a> <span class="comment"> @Returns       Perspective matrix</span>
02189 <span class="comment"> @Description   Create a perspective matrix</span>
02190 <span class="comment">*****************************************************************************/</span>
02191     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e20">Perspective</a>(
02192         VERTTYPE width, VERTTYPE height,
02193         VERTTYPE nearPlane, VERTTYPE farPlane,
02194         <span class="keyword">const</span> eClipspace cs,
02195         <span class="keywordtype">bool</span> bRightHanded,
02196         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02197     {
02198         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> n2 = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(2),nearPlane);
02199         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> rcpnmf = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1),(nearPlane - farPlane));
02200 
02201         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02202         <span class="keywordflow">if</span> (bRotate)
02203         {
02204             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(-n2,width); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
<a name="l02205"></a><a class="code" href="structPVRTMat4.html#e12">02205</a>             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(n2,height);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02206         }
02207         <span class="keywordflow">else</span>
02208         {
02209             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(n2,width);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02210             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(n2,height); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02211         }
02212         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
02213         {
02214             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(farPlane,rcpnmf);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(farPlane,rcpnmf),nearPlane);
02215         }
02216         <span class="keywordflow">else</span>
02217         {
02218             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(farPlane+nearPlane,rcpnmf);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(farPlane,rcpnmf),n2);
02219         }
<a name="l02220"></a><a class="code" href="structPVRTMat4.html#e13">02220</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(-1);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=0;
02221 
02222         <span class="keywordflow">if</span> (!bRightHanded)
02223         {
02224             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10], <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(-1));
02225             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = <a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(1);
02226         }
02227 
02228         <span class="keywordflow">return</span> result;
02229     }
02230 
02231 <span class="comment">/*!***************************************************************************</span>
02232 <span class="comment"> @Function      Perspective</span>
02233 <span class="comment"> @Input         width       width of viewplane</span>
02234 <span class="comment"> @Input         height      height of viewplane</span>
<a name="l02235"></a><a class="code" href="structPVRTMat4.html#e14">02235</a> <span class="comment"> @Input         nearPlane   near clipping distance</span>
02236 <span class="comment"> @Input         cs          which clipspace convention is being used</span>
02237 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02238 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02239 <span class="comment"> @Returns       Perspective matrix</span>
02240 <span class="comment"> @Description   perspective calculation where far plane is assumed to be at an infinite distance and the screen</span>
02241 <span class="comment">                space Z is inverted</span>
02242 <span class="comment">*****************************************************************************/</span>
02243     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFloatDepth</a>(
02244         VERTTYPE width, VERTTYPE height,
02245         VERTTYPE nearPlane,
02246         <span class="keyword">const</span> eClipspace cs,
02247         <span class="keywordtype">bool</span> bRightHanded,
02248         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02249     {
02250         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> n2 = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(2,nearPlane);
<a name="l02251"></a><a class="code" href="structPVRTMat4.html#e15">02251</a> 
02252         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02253         <span class="keywordflow">if</span> (bRotate)
02254         {
02255             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(-n2,width); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02256             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(n2,height);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02257         }
02258         <span class="keywordflow">else</span>
02259         {
02260             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(n2,width);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02261             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(n2,height); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02262         }
02263         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
02264         {
02265             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=nearPlane;
<a name="l02266"></a><a class="code" href="structPVRTMat4.html#e16">02266</a>         }
02267         <span class="keywordflow">else</span>
02268         {
02269             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=(bRightHanded?(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)1:(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)-1);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=n2;
02270         }
02271         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = (<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]= (bRightHanded?(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)-1:(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)1);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=(<a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a>)0;
02272 
02273         <span class="keywordflow">return</span> result;
02274     }
02275 
02276 <span class="comment">/*!***************************************************************************</span>
02277 <span class="comment"> @Function      Perspective</span>
02278 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02279 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02280 <span class="comment"> @Input         nearPlane   near clipping distance</span>
<a name="l02281"></a><a class="code" href="structPVRTMat4.html#e17">02281</a> <span class="comment"> @Input         farPlane    far clipping distance</span>
02282 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02283 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02284 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02285 <span class="comment"> @Returns       Perspective matrix</span>
02286 <span class="comment"> @Description   perspective calculation where field of view is used instead of near plane dimensions</span>
02287 <span class="comment">*****************************************************************************/</span>
02288     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e22">PerspectiveFov</a>(
02289         VERTTYPE fovy, VERTTYPE aspect,
02290         VERTTYPE nearPlane, VERTTYPE farPlane,
02291         <span class="keyword">const</span> eClipspace cs,
02292         <span class="keywordtype">bool</span> bRightHanded,
02293         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02294     {
<a name="l02295"></a><a class="code" href="structPVRTMat4.html#e18">02295</a>         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> height = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(2.0f),nearPlane),<a class="code" href="PVRTFixedPoint_8h.html#a33">PVRTTAN</a>(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(fovy,<a class="code" href="PVRTFixedPoint_8h.html#a25">f2vt</a>(0.5f))));
02296         <span class="keywordflow">if</span> (bRotate) <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">Perspective</a>(height, <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(height,aspect), nearPlane, farPlane, cs, bRightHanded, bRotate);
02297         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">Perspective</a>(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(height,aspect), height, nearPlane, farPlane, cs, bRightHanded, bRotate);
02298     }
02299 
02300 <span class="comment">/*!***************************************************************************</span>
02301 <span class="comment"> @Function      Perspective</span>
02302 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02303 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02304 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02305 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02306 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02307 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
<a name="l02308"></a><a class="code" href="structPVRTMat4.html#e19">02308</a> <span class="comment"> @Returns       Perspective matrix</span>
02309 <span class="comment"> @Description   perspective calculation where field of view is used instead of near plane dimensions</span>
02310 <span class="comment">                and far plane is assumed to be at an infinite distance with inverted Z range</span>
02311 <span class="comment">*****************************************************************************/</span>
02312     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e23">PerspectiveFovFloatDepth</a>(
02313         VERTTYPE fovy, VERTTYPE aspect,
02314         VERTTYPE nearPlane,
02315         <span class="keyword">const</span> eClipspace cs,
02316         <span class="keywordtype">bool</span> bRightHanded,
02317         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02318     {
02319         <a class="code" href="PVRTFixedPoint_8h.html#a0">VERTTYPE</a> height = <a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(2,nearPlane), <a class="code" href="PVRTFixedPoint_8h.html#a33">PVRTTAN</a>(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(fovy,0.5)));
02320         <span class="keywordflow">if</span> (bRotate) <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFloatDepth</a>(height, <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEDIV</a>(height,aspect), nearPlane, cs, bRightHanded, bRotate);
02321         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFloatDepth</a>(<a class="code" href="PVRTFixedPoint_8h.html#a22">VERTTYPEMUL</a>(height,aspect), height, nearPlane, cs, bRightHanded, bRotate);
02322     }
02323 };
02324 
02325 <span class="preprocessor">#endif </span><span class="comment">/*__PVRTVECTOR_H__*/</span>
02326 
02327 <span class="comment">/*****************************************************************************</span>
02328 <span class="comment">End of file (PVRTVector.h)</span>
02329 <span class="comment">*****************************************************************************/</span>
02330 
</pre></div><br>
<br>
<P align=left><FONT size=2><STRONG><A 
   href="http://www.imgtec.com/powervr/insider/legal/index.asp">Copyright</A> © 
   1999-2008, Imagination Technologies Ltd.</STRONG></FONT></P>
<hr>
<address style="align: left;"><small><FONT color=f0f>
Generated by <a href="http://www.doxygen.org/index.html">DOXYGEN</a> 1.3.6</small></address>
</body>
</html>
