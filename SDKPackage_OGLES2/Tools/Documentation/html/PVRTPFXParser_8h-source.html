<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PowerVR SDK</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<table width="100%">
  <tr>
    <td width="33%">
      <p align="left">&nbsp;<a href="http://www.imgtec.com"><img border="0" src="IMGLogo.jpg" width="200" height="30"></a></p>
    </td>
    <td width="33%">
      <p align="center"><font color="#808080" face="Arial" size="2">PowerVR Software Development Kit</a></font></p>
    </td>
    <td width="34%">
      <p align="right"><a href="http://www.powervr.com"><img border="0" src="PVRlogo.jpg" width="200" height="27"></a></p>
    </td>
  </tr>
</table>
<hr>
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>PVRTPFXParser.h</h1><a href="PVRTPFXParser_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/******************************************************************************</span>
00002 <span class="comment"></span>
00003 <span class="comment"> @File         PVRTPFXParser.h</span>
00004 <span class="comment"></span>
00005 <span class="comment"> @Title        PVRTPFXParser</span>
00006 <span class="comment"></span>
00007 <span class="comment"> @Version      </span>
00008 <span class="comment"></span>
00009 <span class="comment"> @Copyright    Copyright (c) Imagination Technologies Limited.</span>
00010 <span class="comment"></span>
00011 <span class="comment"> @Platform     Windows + Linux</span>
00012 <span class="comment"></span>
00013 <span class="comment"> @Description  Declaration of PFX file parser</span>
00014 <span class="comment"></span>
00015 <span class="comment">******************************************************************************/</span>
00016 
00017 <span class="preprocessor">#ifndef _PVRTPFXPARSER_H_</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#define _PVRTPFXPARSER_H_</span>
00019 <span class="preprocessor"></span>
00020 
00021 <span class="comment">/*****************************************************************************</span>
00022 <span class="comment">** Includes</span>
00023 <span class="comment">******************************************************************************/</span>
00024 
00025 <span class="preprocessor">#include "<a class="code" href="PVRTArray_8h.html">PVRTArray.h</a>"</span>
00026 <span class="preprocessor">#include "<a class="code" href="PVRTString_8h.html">PVRTString.h</a>"</span>
00027 <span class="preprocessor">#include "<a class="code" href="PVRTError_8h.html">PVRTError.h</a>"</span>
00028 <span class="preprocessor">#include "<a class="code" href="PVRTTexture_8h.html">PVRTTexture.h</a>"</span>
00029 <span class="preprocessor">#include "<a class="code" href="PVRTVector_8h.html">PVRTVector.h</a>"</span>
00030 <span class="preprocessor">#include "<a class="code" href="PVRTSkipGraph_8h.html">PVRTSkipGraph.h</a>"</span>
00031 
00032 <span class="comment">/****************************************************************************</span>
00033 <span class="comment">** Helper Funcions</span>
00034 <span class="comment">****************************************************************************/</span>
00035 <span class="keywordtype">void</span> <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(<span class="keywordtype">char</span>** ppDst, <span class="keyword">const</span> <span class="keywordtype">char</span>* pSrc);
00036 
00037 <span class="comment">/****************************************************************************</span>
00038 <span class="comment">** Structures</span>
00039 <span class="comment">****************************************************************************/</span>
00040 <span class="comment">/*!**************************************************************************</span>
00041 <span class="comment">@Struct SPVRTPFXParserHeader</span>
00042 <span class="comment">@Brief  Struct for storing PFX file header data</span>
00043 <span class="comment">****************************************************************************/</span>
<a name="l00044"></a><a class="code" href="structSPVRTPFXParserHeader.html">00044</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserHeader.html">SPVRTPFXParserHeader</a>
00045 {
<a name="l00046"></a><a class="code" href="structSPVRTPFXParserHeader.html#o0">00046</a>     <span class="keywordtype">char</span>    *<a class="code" href="structSPVRTPFXParserHeader.html#o0">pszVersion</a>;
<a name="l00047"></a><a class="code" href="structSPVRTPFXParserHeader.html#o1">00047</a>     <span class="keywordtype">char</span>    *<a class="code" href="structSPVRTPFXParserHeader.html#o1">pszDescription</a>;
<a name="l00048"></a><a class="code" href="structSPVRTPFXParserHeader.html#o2">00048</a>     <span class="keywordtype">char</span>    *<a class="code" href="structSPVRTPFXParserHeader.html#o2">pszCopyright</a>;
00049 
<a name="l00050"></a><a class="code" href="structSPVRTPFXParserHeader.html#a0">00050</a>     <a class="code" href="structSPVRTPFXParserHeader.html#a0">SPVRTPFXParserHeader</a>()
00051     :
00052     <a class="code" href="structSPVRTPFXParserHeader.html#o0">pszVersion</a>(NULL),
00053     <a class="code" href="structSPVRTPFXParserHeader.html#o1">pszDescription</a>(NULL),
00054     <a class="code" href="structSPVRTPFXParserHeader.html#o2">pszCopyright</a>(NULL)
00055     {
00056     }
00057 
<a name="l00058"></a><a class="code" href="structSPVRTPFXParserHeader.html#a1">00058</a>     <a class="code" href="structSPVRTPFXParserHeader.html#a1">~SPVRTPFXParserHeader</a>()
00059     {
00060         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserHeader.html#o0">pszVersion</a>);
00061         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserHeader.html#o1">pszDescription</a>);
00062         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserHeader.html#o2">pszCopyright</a>);
00063     }
00064 
<a name="l00065"></a><a class="code" href="structSPVRTPFXParserHeader.html#a2">00065</a>     <a class="code" href="structSPVRTPFXParserHeader.html#a0">SPVRTPFXParserHeader</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserHeader.html">SPVRTPFXParserHeader</a>&amp; rhs)
00066     {
00067         <a class="code" href="structSPVRTPFXParserHeader.html#a4">Copy</a>(rhs);
00068     }
00069 
<a name="l00070"></a><a class="code" href="structSPVRTPFXParserHeader.html#a3">00070</a>     <a class="code" href="structSPVRTPFXParserHeader.html">SPVRTPFXParserHeader</a>&amp; <a class="code" href="structSPVRTPFXParserHeader.html#a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserHeader.html">SPVRTPFXParserHeader</a>&amp; rhs)
00071     {
00072         <span class="keywordflow">if</span>(&amp;rhs != <span class="keyword">this</span>)
00073             <a class="code" href="structSPVRTPFXParserHeader.html#a4">Copy</a>(rhs);
00074         
00075         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00076     }
00077 
<a name="l00078"></a><a class="code" href="structSPVRTPFXParserHeader.html#a4">00078</a>     <span class="keywordtype">void</span> <a class="code" href="structSPVRTPFXParserHeader.html#a4">Copy</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserHeader.html">SPVRTPFXParserHeader</a>&amp; rhs)
00079     {
00080         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserHeader.html#o0">pszVersion</a>, rhs.<a class="code" href="structSPVRTPFXParserHeader.html#o0">pszVersion</a>);
00081         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserHeader.html#o1">pszDescription</a>, rhs.<a class="code" href="structSPVRTPFXParserHeader.html#o1">pszDescription</a>);
00082         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserHeader.html#o2">pszCopyright</a>, rhs.<a class="code" href="structSPVRTPFXParserHeader.html#o2">pszCopyright</a>);
00083     }
00084 };
00085 
00086 <span class="comment">/*!**************************************************************************</span>
00087 <span class="comment">@Struct SPVRTPFXParserTexture</span>
00088 <span class="comment">@Brief  Struct for storing PFX data from the texture block</span>
00089 <span class="comment">****************************************************************************/</span>
<a name="l00090"></a><a class="code" href="structSPVRTPFXParserTexture.html">00090</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserTexture.html">SPVRTPFXParserTexture</a>
00091 {
<a name="l00092"></a><a class="code" href="structSPVRTPFXParserTexture.html#o0">00092</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>     <a class="code" href="structSPVRTPFXParserTexture.html#o0">Name</a>;
<a name="l00093"></a><a class="code" href="structSPVRTPFXParserTexture.html#o1">00093</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>     <a class="code" href="structSPVRTPFXParserTexture.html#o1">FileName</a>;
<a name="l00094"></a><a class="code" href="structSPVRTPFXParserTexture.html#o2">00094</a>     <span class="keywordtype">bool</span>            <a class="code" href="structSPVRTPFXParserTexture.html#o2">bRenderToTexture</a>;
<a name="l00095"></a><a class="code" href="structSPVRTPFXParserTexture.html#o5">00095</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPVRTPFXParserTexture.html#o3">nMin</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o4">nMag</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o5">nMIP</a>;
<a name="l00096"></a><a class="code" href="structSPVRTPFXParserTexture.html#o7">00096</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPVRTPFXParserTexture.html#o6">nWrapS</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o7">nWrapT</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o8">nWrapR</a>; <span class="comment">// either GL_CLAMP or GL_REPEAT</span>
<a name="l00097"></a><a class="code" href="structSPVRTPFXParserTexture.html#o9">00097</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPVRTPFXParserTexture.html#o9">uiWidth</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o10">uiHeight</a>;
<a name="l00098"></a><a class="code" href="structSPVRTPFXParserTexture.html#o11">00098</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPVRTPFXParserTexture.html#o11">uiFlags</a>;
00099 };
00100 
00101 <span class="comment">/*!**************************************************************************</span>
00102 <span class="comment">@Struct SPVRTPFXParserShader</span>
00103 <span class="comment">@Brief  Struct for storing PFX data from the shader block</span>
00104 <span class="comment">****************************************************************************/</span>
<a name="l00105"></a><a class="code" href="structSPVRTPFXParserShader.html">00105</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>
00106 {
<a name="l00107"></a><a class="code" href="structSPVRTPFXParserShader.html#o0">00107</a>     <span class="keywordtype">char</span>            *pszName;
<a name="l00108"></a><a class="code" href="structSPVRTPFXParserShader.html#o1">00108</a>     <span class="keywordtype">bool</span>            <a class="code" href="structSPVRTPFXParserShader.html#o1">bUseFileName</a>;
<a name="l00109"></a><a class="code" href="structSPVRTPFXParserShader.html#o2">00109</a>     <span class="keywordtype">char</span>            *<a class="code" href="structSPVRTPFXParserShader.html#o2">pszGLSLfile</a>;
<a name="l00110"></a><a class="code" href="structSPVRTPFXParserShader.html#o3">00110</a>     <span class="keywordtype">char</span>            *<a class="code" href="structSPVRTPFXParserShader.html#o3">pszGLSLBinaryFile</a>;
<a name="l00111"></a><a class="code" href="structSPVRTPFXParserShader.html#o4">00111</a>     <span class="keywordtype">char</span>            *<a class="code" href="structSPVRTPFXParserShader.html#o4">pszGLSLcode</a>;
<a name="l00112"></a><a class="code" href="structSPVRTPFXParserShader.html#o5">00112</a>     <span class="keywordtype">char</span>            *<a class="code" href="structSPVRTPFXParserShader.html#o5">pbGLSLBinary</a>;
<a name="l00113"></a><a class="code" href="structSPVRTPFXParserShader.html#o6">00113</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPVRTPFXParserShader.html#o6">nGLSLBinarySize</a>;
<a name="l00114"></a><a class="code" href="structSPVRTPFXParserShader.html#o7">00114</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPVRTPFXParserShader.html#o7">nFirstLineNumber</a>;   <span class="comment">// Line number in the text file where this code began; use to correct line-numbers in compiler errors</span>
00115 
<a name="l00116"></a><a class="code" href="structSPVRTPFXParserShader.html#a0">00116</a>     <a class="code" href="structSPVRTPFXParserShader.html#a0">SPVRTPFXParserShader</a>()
00117     :
00118     pszName(NULL),
00119     <a class="code" href="structSPVRTPFXParserShader.html#o2">pszGLSLfile</a>(NULL),
00120     <a class="code" href="structSPVRTPFXParserShader.html#o3">pszGLSLBinaryFile</a>(NULL),
00121     <a class="code" href="structSPVRTPFXParserShader.html#o4">pszGLSLcode</a>(NULL),
00122     <a class="code" href="structSPVRTPFXParserShader.html#o5">pbGLSLBinary</a>(NULL)
00123     {
00124     }
00125 
<a name="l00126"></a><a class="code" href="structSPVRTPFXParserShader.html#a1">00126</a>     <a class="code" href="structSPVRTPFXParserShader.html#a1">~SPVRTPFXParserShader</a>()
00127     {
00128         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(pszName);
00129         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserShader.html#o2">pszGLSLfile</a>);
00130         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserShader.html#o4">pszGLSLcode</a>);
00131         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserShader.html#o3">pszGLSLBinaryFile</a>);
00132         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserShader.html#o5">pbGLSLBinary</a>);
00133     }
00134 
<a name="l00135"></a><a class="code" href="structSPVRTPFXParserShader.html#a2">00135</a>     <a class="code" href="structSPVRTPFXParserShader.html#a0">SPVRTPFXParserShader</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; rhs)
00136     {
00137         <a class="code" href="structSPVRTPFXParserShader.html#a4">Copy</a>(rhs);
00138     }
00139 
<a name="l00140"></a><a class="code" href="structSPVRTPFXParserShader.html#a3">00140</a>     <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; <a class="code" href="structSPVRTPFXParserShader.html#a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; rhs)
00141     {
00142         <span class="keywordflow">if</span>(&amp;rhs != <span class="keyword">this</span>)
00143             <a class="code" href="structSPVRTPFXParserShader.html#a4">Copy</a>(rhs);
00144         
00145         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00146     }
00147 
<a name="l00148"></a><a class="code" href="structSPVRTPFXParserShader.html#a4">00148</a>     <span class="keywordtype">void</span> <a class="code" href="structSPVRTPFXParserShader.html#a4">Copy</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; rhs)
00149     {
00150         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;pszName, rhs.<a class="code" href="structSPVRTPFXParserShader.html#o0">pszName</a>);
00151         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserShader.html#o2">pszGLSLfile</a>, rhs.<a class="code" href="structSPVRTPFXParserShader.html#o2">pszGLSLfile</a>);
00152         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserShader.html#o3">pszGLSLBinaryFile</a>, rhs.<a class="code" href="structSPVRTPFXParserShader.html#o3">pszGLSLBinaryFile</a>);
00153         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserShader.html#o4">pszGLSLcode</a>, rhs.<a class="code" href="structSPVRTPFXParserShader.html#o4">pszGLSLcode</a>);
00154         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserShader.html#o5">pbGLSLBinary</a>, rhs.<a class="code" href="structSPVRTPFXParserShader.html#o5">pbGLSLBinary</a>);
00155 
00156         <a class="code" href="structSPVRTPFXParserShader.html#o1">bUseFileName</a>    = rhs.<a class="code" href="structSPVRTPFXParserShader.html#o1">bUseFileName</a>;
00157         <a class="code" href="structSPVRTPFXParserShader.html#o6">nGLSLBinarySize</a> = rhs.<a class="code" href="structSPVRTPFXParserShader.html#o6">nGLSLBinarySize</a>;
00158         <a class="code" href="structSPVRTPFXParserShader.html#o7">nFirstLineNumber</a>= rhs.<a class="code" href="structSPVRTPFXParserShader.html#o7">nFirstLineNumber</a>;
00159     }
00160 };
00161 
00162 <span class="comment">/*!**************************************************************************</span>
00163 <span class="comment">@Enum ESemanticDefaultDataType</span>
00164 <span class="comment">@Brief  Enum values for the various variable types supported</span>
00165 <span class="comment">****************************************************************************/</span>
<a name="l00166"></a><a class="code" href="PVRTPFXParser_8h.html#a32">00166</a> <span class="keyword">enum</span> <a class="code" href="PVRTPFXParser_8h.html#a32">ESemanticDefaultDataType</a>
00167 {
00168     <a class="code" href="PVRTPFXParser_8h.html#a32a3">eDataTypeMat2</a>,
00169     <a class="code" href="PVRTPFXParser_8h.html#a32a4">eDataTypeMat3</a>,
00170     <a class="code" href="PVRTPFXParser_8h.html#a32a5">eDataTypeMat4</a>,
00171     <a class="code" href="PVRTPFXParser_8h.html#a32a6">eDataTypeVec2</a>,
00172     <a class="code" href="PVRTPFXParser_8h.html#a32a7">eDataTypeVec3</a>,
00173     <a class="code" href="PVRTPFXParser_8h.html#a32a8">eDataTypeVec4</a>,
00174     <a class="code" href="PVRTPFXParser_8h.html#a32a9">eDataTypeIvec2</a>,
00175     <a class="code" href="PVRTPFXParser_8h.html#a32a10">eDataTypeIvec3</a>,
00176     <a class="code" href="PVRTPFXParser_8h.html#a32a11">eDataTypeIvec4</a>,
00177     <a class="code" href="PVRTPFXParser_8h.html#a32a12">eDataTypeBvec2</a>,
00178     <a class="code" href="PVRTPFXParser_8h.html#a32a13">eDataTypeBvec3</a>,
00179     <a class="code" href="PVRTPFXParser_8h.html#a32a14">eDataTypeBvec4</a>,
00180     <a class="code" href="PVRTPFXParser_8h.html#a32a15">eDataTypeFloat</a>,
00181     <a class="code" href="PVRTPFXParser_8h.html#a32a16">eDataTypeInt</a>,
00182     <a class="code" href="PVRTPFXParser_8h.html#a32a17">eDataTypeBool</a>,
00183 
00184     <a class="code" href="PVRTPFXParser_8h.html#a32a18">eNumDefaultDataTypes</a>,
00185     <a class="code" href="PVRTPFXParser_8h.html#a32a19">eDataTypeNone</a>
00186 };
00187 
00188 <span class="comment">/*!**************************************************************************</span>
00189 <span class="comment">@Enum   EDefaultDataInternalType</span>
00190 <span class="comment">@Brief  Enum values for defining whether a variable is float, interger or bool</span>
00191 <span class="comment">****************************************************************************/</span>
<a name="l00192"></a><a class="code" href="PVRTPFXParser_8h.html#a33">00192</a> <span class="keyword">enum</span> <a class="code" href="PVRTPFXParser_8h.html#a33">EDefaultDataInternalType</a>
00193 {
00194     <a class="code" href="PVRTPFXParser_8h.html#a33a20">eFloating</a>,
00195     <a class="code" href="PVRTPFXParser_8h.html#a33a21">eInteger</a>,
00196     <a class="code" href="PVRTPFXParser_8h.html#a33a22">eBoolean</a>
00197 };
00198 
00199 <span class="comment">/*!**************************************************************************</span>
00200 <span class="comment">@Enum   ETextureWrap</span>
00201 <span class="comment">@Brief  Enum values for defining texture wrapping</span>
00202 <span class="comment">****************************************************************************/</span>
<a name="l00203"></a><a class="code" href="PVRTPFXParser_8h.html#a0">00203</a> <span class="keyword">const</span> <a class="code" href="PVRTGlobal_8h.html#a21">PVRTuint32</a> <a class="code" href="PVRTPFXParser_8h.html#a0">PVRPFXTEX_COLOUR</a> = <a class="code" href="PVRTGlobal_8h.html#a21">PVRTuint32</a>(1&lt;&lt;30);
<a name="l00204"></a><a class="code" href="PVRTPFXParser_8h.html#a1">00204</a> <span class="keyword">const</span> <a class="code" href="PVRTGlobal_8h.html#a21">PVRTuint32</a> <a class="code" href="PVRTPFXParser_8h.html#a1">PVRPFXTEX_DEPTH</a>  = <a class="code" href="PVRTGlobal_8h.html#a21">PVRTuint32</a>(1&lt;&lt;31);
00205 
<a name="l00206"></a><a class="code" href="structSSemanticDefaultDataTypeInfo.html">00206</a> <span class="keyword">struct </span><a class="code" href="structSSemanticDefaultDataTypeInfo.html">SSemanticDefaultDataTypeInfo</a>
00207 {
<a name="l00208"></a><a class="code" href="structSSemanticDefaultDataTypeInfo.html#o0">00208</a>     <a class="code" href="PVRTPFXParser_8h.html#a32">ESemanticDefaultDataType</a>    eType;
<a name="l00209"></a><a class="code" href="structSSemanticDefaultDataTypeInfo.html#o1">00209</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>                      *pszName;
<a name="l00210"></a><a class="code" href="structSSemanticDefaultDataTypeInfo.html#o2">00210</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                <a class="code" href="structSSemanticDefaultDataTypeInfo.html#o2">nNumberDataItems</a>;
<a name="l00211"></a><a class="code" href="structSSemanticDefaultDataTypeInfo.html#o3">00211</a>     <a class="code" href="PVRTPFXParser_8h.html#a33">EDefaultDataInternalType</a>    <a class="code" href="structSSemanticDefaultDataTypeInfo.html#o3">eInternalType</a>;
00212 };
00213 
00214 <span class="keyword">const</span> <span class="keyword">static</span> <a class="code" href="structSSemanticDefaultDataTypeInfo.html">SSemanticDefaultDataTypeInfo</a> c_psSemanticDefaultDataTypeInfo[] =
00215 {
00216     { <a class="code" href="PVRTPFXParser_8h.html#a32a3">eDataTypeMat2</a>,        <span class="stringliteral">"mat2"</span>,         4,      <a class="code" href="PVRTPFXParser_8h.html#a33a20">eFloating</a> },
00217     { <a class="code" href="PVRTPFXParser_8h.html#a32a4">eDataTypeMat3</a>,        <span class="stringliteral">"mat3"</span>,         9,      <a class="code" href="PVRTPFXParser_8h.html#a33a20">eFloating</a> },
00218     { <a class="code" href="PVRTPFXParser_8h.html#a32a5">eDataTypeMat4</a>,        <span class="stringliteral">"mat4"</span>,         16,     <a class="code" href="PVRTPFXParser_8h.html#a33a20">eFloating</a> },
00219     { <a class="code" href="PVRTPFXParser_8h.html#a32a6">eDataTypeVec2</a>,        <span class="stringliteral">"vec2"</span>,         2,      <a class="code" href="PVRTPFXParser_8h.html#a33a20">eFloating</a> },
00220     { <a class="code" href="PVRTPFXParser_8h.html#a32a7">eDataTypeVec3</a>,        <span class="stringliteral">"vec3"</span>,         3,      <a class="code" href="PVRTPFXParser_8h.html#a33a20">eFloating</a> },
00221     { <a class="code" href="PVRTPFXParser_8h.html#a32a8">eDataTypeVec4</a>,        <span class="stringliteral">"vec4"</span>,         4,      <a class="code" href="PVRTPFXParser_8h.html#a33a20">eFloating</a> },
00222     { <a class="code" href="PVRTPFXParser_8h.html#a32a9">eDataTypeIvec2</a>,       <span class="stringliteral">"ivec2"</span>,        2,      <a class="code" href="PVRTPFXParser_8h.html#a33a21">eInteger</a> },
00223     { <a class="code" href="PVRTPFXParser_8h.html#a32a10">eDataTypeIvec3</a>,       <span class="stringliteral">"ivec3"</span>,        3,      <a class="code" href="PVRTPFXParser_8h.html#a33a21">eInteger</a> },
00224     { <a class="code" href="PVRTPFXParser_8h.html#a32a11">eDataTypeIvec4</a>,       <span class="stringliteral">"ivec4"</span>,        4,      <a class="code" href="PVRTPFXParser_8h.html#a33a21">eInteger</a> },
00225     { <a class="code" href="PVRTPFXParser_8h.html#a32a12">eDataTypeBvec2</a>,       <span class="stringliteral">"bvec2"</span>,        2,      <a class="code" href="PVRTPFXParser_8h.html#a33a22">eBoolean</a> },
00226     { <a class="code" href="PVRTPFXParser_8h.html#a32a13">eDataTypeBvec3</a>,       <span class="stringliteral">"bvec3"</span>,        3,      <a class="code" href="PVRTPFXParser_8h.html#a33a22">eBoolean</a> },
00227     { <a class="code" href="PVRTPFXParser_8h.html#a32a14">eDataTypeBvec4</a>,       <span class="stringliteral">"bvec4"</span>,        4,      <a class="code" href="PVRTPFXParser_8h.html#a33a22">eBoolean</a> },
00228     { <a class="code" href="PVRTPFXParser_8h.html#a32a15">eDataTypeFloat</a>,       <span class="stringliteral">"float"</span>,        1,      <a class="code" href="PVRTPFXParser_8h.html#a33a20">eFloating</a> },
00229     { <a class="code" href="PVRTPFXParser_8h.html#a32a16">eDataTypeInt</a>,         <span class="stringliteral">"int"</span>,          1,      <a class="code" href="PVRTPFXParser_8h.html#a33a21">eInteger</a> },
00230     { <a class="code" href="PVRTPFXParser_8h.html#a32a17">eDataTypeBool</a>,        <span class="stringliteral">"bool"</span>,         1,      <a class="code" href="PVRTPFXParser_8h.html#a33a22">eBoolean</a> }
00231 };
00232 
00233 <span class="comment">/*!**************************************************************************</span>
00234 <span class="comment">@Struct SPVRTSemanticDefaultData</span>
00235 <span class="comment">@Brief  Stores a default value</span>
00236 <span class="comment">****************************************************************************/</span>
<a name="l00237"></a><a class="code" href="structSPVRTSemanticDefaultData.html">00237</a> <span class="keyword">struct </span><a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>
00238 {
<a name="l00239"></a><a class="code" href="structSPVRTSemanticDefaultData.html#o0">00239</a>     <span class="keywordtype">float</span>                       <a class="code" href="structSPVRTSemanticDefaultData.html#o0">pfData</a>[16];
<a name="l00240"></a><a class="code" href="structSPVRTSemanticDefaultData.html#o1">00240</a>     <span class="keywordtype">int</span>                         <a class="code" href="structSPVRTSemanticDefaultData.html#o1">pnData</a>[4];
<a name="l00241"></a><a class="code" href="structSPVRTSemanticDefaultData.html#o2">00241</a>     <span class="keywordtype">bool</span>                        <a class="code" href="structSPVRTSemanticDefaultData.html#o2">pbData</a>[4];
<a name="l00242"></a><a class="code" href="structSPVRTSemanticDefaultData.html#o3">00242</a>     <a class="code" href="PVRTPFXParser_8h.html#a32">ESemanticDefaultDataType</a>    eType;
00243 
<a name="l00244"></a><a class="code" href="structSPVRTSemanticDefaultData.html#a0">00244</a>     <a class="code" href="structSPVRTSemanticDefaultData.html#a0">SPVRTSemanticDefaultData</a>() : eType(<a class="code" href="PVRTPFXParser_8h.html#a32a19">eDataTypeNone</a>)
00245     {
00246     }
00247 
<a name="l00248"></a><a class="code" href="structSPVRTSemanticDefaultData.html#a1">00248</a>     <a class="code" href="structSPVRTSemanticDefaultData.html#a0">SPVRTSemanticDefaultData</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>&amp; rhs)   {   <a class="code" href="structSPVRTSemanticDefaultData.html#a3">Copy</a>(rhs); }
00249 
<a name="l00250"></a><a class="code" href="structSPVRTSemanticDefaultData.html#a2">00250</a>     <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>&amp; <a class="code" href="structSPVRTSemanticDefaultData.html#a2">operator=</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>&amp; rhs)
00251     {
00252         <span class="keywordflow">if</span>(&amp;rhs != <span class="keyword">this</span>)
00253             <a class="code" href="structSPVRTSemanticDefaultData.html#a3">Copy</a>(rhs);
00254         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00255     }
00256 
<a name="l00257"></a><a class="code" href="structSPVRTSemanticDefaultData.html#a3">00257</a>     <span class="keywordtype">void</span> <a class="code" href="structSPVRTSemanticDefaultData.html#a3">Copy</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>&amp; rhs)
00258     {
00259         memcpy(<a class="code" href="structSPVRTSemanticDefaultData.html#o0">pfData</a>, rhs.<a class="code" href="structSPVRTSemanticDefaultData.html#o0">pfData</a>, <span class="keyword">sizeof</span>(<a class="code" href="structSPVRTSemanticDefaultData.html#o0">pfData</a>));
00260         memcpy(<a class="code" href="structSPVRTSemanticDefaultData.html#o1">pnData</a>, rhs.<a class="code" href="structSPVRTSemanticDefaultData.html#o1">pnData</a>, <span class="keyword">sizeof</span>(<a class="code" href="structSPVRTSemanticDefaultData.html#o1">pnData</a>));
00261         memcpy(<a class="code" href="structSPVRTSemanticDefaultData.html#o2">pbData</a>, rhs.<a class="code" href="structSPVRTSemanticDefaultData.html#o2">pbData</a>, <span class="keyword">sizeof</span>(<a class="code" href="structSPVRTSemanticDefaultData.html#o2">pbData</a>));
00262         eType = rhs.<a class="code" href="structSPVRTSemanticDefaultData.html#o3">eType</a>;
00263     }
00264 };
00265 
00266 <span class="comment">/*!**************************************************************************</span>
00267 <span class="comment">@Struct SPVRTPFXParserSemantic</span>
00268 <span class="comment">@Brief  Stores semantic information</span>
00269 <span class="comment">****************************************************************************/</span>
<a name="l00270"></a><a class="code" href="structSPVRTPFXParserSemantic.html">00270</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>
00271 {
<a name="l00272"></a><a class="code" href="structSPVRTPFXParserSemantic.html#o0">00272</a>     <span class="keywordtype">char</span>                        *pszName;   
<a name="l00273"></a><a class="code" href="structSPVRTPFXParserSemantic.html#o1">00273</a>     <span class="keywordtype">char</span>                        *<a class="code" href="structSPVRTPFXParserSemantic.html#o1">pszValue</a>;  
<a name="l00274"></a><a class="code" href="structSPVRTPFXParserSemantic.html#o2">00274</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                nIdx;       
<a name="l00275"></a><a class="code" href="structSPVRTPFXParserSemantic.html#o3">00275</a>     <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>    <a class="code" href="structSPVRTPFXParserSemantic.html#o3">sDefaultValue</a>; 
<a name="l00277"></a><a class="code" href="structSPVRTPFXParserSemantic.html#a0">00277</a>     <a class="code" href="structSPVRTPFXParserSemantic.html#a0">SPVRTPFXParserSemantic</a>() : pszName(NULL), <a class="code" href="structSPVRTPFXParserSemantic.html#o1">pszValue</a>(NULL)
00278     {
00279     }
00280 
<a name="l00281"></a><a class="code" href="structSPVRTPFXParserSemantic.html#a1">00281</a>     <a class="code" href="structSPVRTPFXParserSemantic.html#a1">~SPVRTPFXParserSemantic</a>()
00282     {
00283         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(pszName);
00284         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserSemantic.html#o1">pszValue</a>);
00285     }
00286 
<a name="l00287"></a><a class="code" href="structSPVRTPFXParserSemantic.html#a2">00287</a>     <a class="code" href="structSPVRTPFXParserSemantic.html#a0">SPVRTPFXParserSemantic</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>&amp; rhs)
00288     {
00289         <a class="code" href="structSPVRTPFXParserSemantic.html#a4">Copy</a>(rhs);
00290     }
00291 
<a name="l00292"></a><a class="code" href="structSPVRTPFXParserSemantic.html#a3">00292</a>     <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>&amp; <a class="code" href="structSPVRTPFXParserSemantic.html#a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>&amp; rhs)
00293     {
00294         <span class="keywordflow">if</span>(&amp;rhs != <span class="keyword">this</span>)
00295             <a class="code" href="structSPVRTPFXParserSemantic.html#a4">Copy</a>(rhs);
00296         
00297         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00298     }
00299 
<a name="l00300"></a><a class="code" href="structSPVRTPFXParserSemantic.html#a4">00300</a>     <span class="keywordtype">void</span> <a class="code" href="structSPVRTPFXParserSemantic.html#a4">Copy</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>&amp; rhs)
00301     {
00302         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;pszName, rhs.<a class="code" href="structSPVRTPFXParserSemantic.html#o0">pszName</a>);
00303         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserSemantic.html#o1">pszValue</a>, rhs.<a class="code" href="structSPVRTPFXParserSemantic.html#o1">pszValue</a>);
00304         nIdx            = rhs.<a class="code" href="structSPVRTPFXParserSemantic.html#o2">nIdx</a>;
00305         <a class="code" href="structSPVRTPFXParserSemantic.html#o3">sDefaultValue</a>   = rhs.<a class="code" href="structSPVRTPFXParserSemantic.html#o3">sDefaultValue</a>;
00306     }
00307 };
00308 
00309 <span class="comment">/*!**************************************************************************</span>
00310 <span class="comment">@Struct SPVRTPFXParserEffectTexture</span>
00311 <span class="comment">@Brief  Stores effect texture information</span>
00312 <span class="comment">****************************************************************************/</span>
<a name="l00313"></a><a class="code" href="structSPVRTPFXParserEffectTexture.html">00313</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserEffectTexture.html">SPVRTPFXParserEffectTexture</a>
00314 {
<a name="l00315"></a><a class="code" href="structSPVRTPFXParserEffectTexture.html#o0">00315</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>                 Name;               <span class="comment">// Name of texture.</span>
<a name="l00316"></a><a class="code" href="structSPVRTPFXParserEffectTexture.html#o1">00316</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                <a class="code" href="structSPVRTPFXParserEffectTexture.html#o1">nNumber</a>;            <span class="comment">// Texture number to set</span>
<a name="l00317"></a><a class="code" href="structSPVRTPFXParserEffectTexture.html#o2">00317</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                <a class="code" href="structSPVRTPFXParserEffectTexture.html#o2">u32Type</a>;            <span class="comment">// Identifying cube maps etc.</span>
<a name="l00318"></a><a class="code" href="structSPVRTPFXParserEffectTexture.html#o3">00318</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                <a class="code" href="structSPVRTPFXParserEffectTexture.html#o3">uTextureHandle</a>;     <span class="comment">// Texture handle</span>
00319 };
00320 
00321 <span class="comment">/*!**************************************************************************</span>
00322 <span class="comment">@enum   EPVRTPFXPassType</span>
00323 <span class="comment">@Brief  Decribes the type of render required</span>
00324 <span class="comment">****************************************************************************/</span>
<a name="l00325"></a><a class="code" href="PVRTPFXParser_8h.html#a34">00325</a> <span class="keyword">enum</span> <a class="code" href="PVRTPFXParser_8h.html#a34">EPVRTPFXPassType</a>
00326 {
00327     <a class="code" href="PVRTPFXParser_8h.html#a34a23">eNULL_PASS</a>,
00328     <a class="code" href="PVRTPFXParser_8h.html#a34a24">eCAMERA_PASS</a>,
00329     <a class="code" href="PVRTPFXParser_8h.html#a34a25">ePOSTPROCESS_PASS</a>,
00330     <a class="code" href="PVRTPFXParser_8h.html#a34a26">eENVMAPCUBE_PASS</a>,
00331     <a class="code" href="PVRTPFXParser_8h.html#a34a27">eENVMAPSPH_PASS</a>
00332 };
00333 
00334 <span class="comment">/*!**************************************************************************</span>
00335 <span class="comment">@enum   EPVRTPFXPassType</span>
00336 <span class="comment">@Brief  Decribes the type of render required</span>
00337 <span class="comment">****************************************************************************/</span>
<a name="l00338"></a><a class="code" href="PVRTPFXParser_8h.html#a35">00338</a> <span class="keyword">enum</span> <a class="code" href="PVRTPFXParser_8h.html#a35">EPVRTPFXPassView</a>
00339 {
00340     <a class="code" href="PVRTPFXParser_8h.html#a35a28">eVIEW_CURRENT</a>,          <span class="comment">// The scene's active camera is used</span>
00341     <a class="code" href="PVRTPFXParser_8h.html#a35a29">eVIEW_POD_CAMERA</a>,       <span class="comment">// The specified camera is used</span>
00342     <a class="code" href="PVRTPFXParser_8h.html#a35a30">eVIEW_NONE</a>              <span class="comment">// No specified view</span>
00343 };
00344 
00345 <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>;    <span class="comment">// Forward declaration</span>
00346 <span class="comment">/*!**************************************************************************</span>
00347 <span class="comment">@Struct SPVRTPFXRenderPass</span>
00348 <span class="comment">@Brief  Stores render pass information</span>
00349 <span class="comment">****************************************************************************/</span>
<a name="l00350"></a><a class="code" href="structSPVRTPFXRenderPass.html">00350</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXRenderPass.html">SPVRTPFXRenderPass</a>
00351 {
<a name="l00352"></a><a class="code" href="structSPVRTPFXRenderPass.html#o0">00352</a>     <a class="code" href="PVRTPFXParser_8h.html#a34">EPVRTPFXPassType</a>        <a class="code" href="structSPVRTPFXRenderPass.html#o0">eRenderPassType</a>;            <span class="comment">// Type of pass.</span>
<a name="l00353"></a><a class="code" href="structSPVRTPFXRenderPass.html#o1">00353</a>     <a class="code" href="PVRTPFXParser_8h.html#a35">EPVRTPFXPassView</a>        <a class="code" href="structSPVRTPFXRenderPass.html#o1">eViewType</a>;                  <span class="comment">// View type.</span>
<a name="l00354"></a><a class="code" href="structSPVRTPFXRenderPass.html#o2">00354</a>     <a class="code" href="PVRTGlobal_8h.html#a21">PVRTuint32</a>              <a class="code" href="structSPVRTPFXRenderPass.html#o2">uiFormatFlags</a>;              <span class="comment">// Surface Type.</span>
<a name="l00355"></a><a class="code" href="structSPVRTPFXRenderPass.html#o3">00355</a>     <a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>*   <a class="code" href="structSPVRTPFXRenderPass.html#o3">pEffect</a>;                    <span class="comment">// Matched pass. Needed but determined from effect block.</span>
<a name="l00356"></a><a class="code" href="structSPVRTPFXRenderPass.html#o4">00356</a>     <a class="code" href="structSPVRTPFXParserTexture.html">SPVRTPFXParserTexture</a>*  pTexture;                   <span class="comment">// The RTT target for this pass.</span>
<a name="l00357"></a><a class="code" href="structSPVRTPFXRenderPass.html#o5">00357</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>             <a class="code" href="structSPVRTPFXRenderPass.html#o5">NodeName</a>;                   <span class="comment">// POD Camera name.</span>
<a name="l00358"></a><a class="code" href="structSPVRTPFXRenderPass.html#o6">00358</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>             <a class="code" href="structSPVRTPFXRenderPass.html#o6">SemanticName</a>;               <span class="comment">// Name of this pass.</span>
00359     
<a name="l00360"></a><a class="code" href="structSPVRTPFXRenderPass.html#a0">00360</a>     <a class="code" href="structSPVRTPFXRenderPass.html#a0">SPVRTPFXRenderPass</a>()
00361     :
00362     <a class="code" href="structSPVRTPFXRenderPass.html#o0">eRenderPassType</a>(<a class="code" href="PVRTPFXParser_8h.html#a34a23">eNULL_PASS</a>),
00363     <a class="code" href="structSPVRTPFXRenderPass.html#o1">eViewType</a>(<a class="code" href="PVRTPFXParser_8h.html#a35a30">eVIEW_NONE</a>),
00364     <a class="code" href="structSPVRTPFXRenderPass.html#o2">uiFormatFlags</a>(0),
00365     <a class="code" href="structSPVRTPFXRenderPass.html#o3">pEffect</a>(NULL),
00366     pTexture(NULL)
00367     {
00368     }
00369 };
00370 
00371 <span class="comment">/*!**************************************************************************</span>
00372 <span class="comment">@Struct SPVRTTargetPair</span>
00373 <span class="comment">@Brief  Stores a buffer type and name for a render target.</span>
00374 <span class="comment">****************************************************************************/</span>
<a name="l00375"></a><a class="code" href="structSPVRTTargetPair.html">00375</a> <span class="keyword">struct </span><a class="code" href="structSPVRTTargetPair.html">SPVRTTargetPair</a>
00376 {
<a name="l00377"></a><a class="code" href="structSPVRTTargetPair.html#o0">00377</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>     <a class="code" href="structSPVRTTargetPair.html#o0">bufferType</a>;
<a name="l00378"></a><a class="code" href="structSPVRTTargetPair.html#o1">00378</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>     <a class="code" href="structSPVRTTargetPair.html#o1">targetName</a>;
00379 };
00380 
00381 <span class="comment">/*!**************************************************************************</span>
00382 <span class="comment">@Struct SPVRTPFXParserEffect</span>
00383 <span class="comment">@Brief  Stores effect information</span>
00384 <span class="comment">****************************************************************************/</span>
<a name="l00385"></a><a class="code" href="structSPVRTPFXParserEffect.html">00385</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>
00386 {
<a name="l00387"></a><a class="code" href="structSPVRTPFXParserEffect.html#o0">00387</a>     <span class="keywordtype">char</span>*                           pszName;
<a name="l00388"></a><a class="code" href="structSPVRTPFXParserEffect.html#o1">00388</a>     <span class="keywordtype">char</span>*                           <a class="code" href="structSPVRTPFXParserEffect.html#o1">pszAnnotation</a>;
00389 
<a name="l00390"></a><a class="code" href="structSPVRTPFXParserEffect.html#o2">00390</a>     <span class="keywordtype">char</span>*                           <a class="code" href="structSPVRTPFXParserEffect.html#o2">pszVertexShaderName</a>;
<a name="l00391"></a><a class="code" href="structSPVRTPFXParserEffect.html#o3">00391</a>     <span class="keywordtype">char</span>*                           <a class="code" href="structSPVRTPFXParserEffect.html#o3">pszFragmentShaderName</a>;
00392 
<a name="l00393"></a><a class="code" href="structSPVRTPFXParserEffect.html#o4">00393</a>     <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>*         <a class="code" href="structSPVRTPFXParserEffect.html#o4">psUniform</a>;
<a name="l00394"></a><a class="code" href="structSPVRTPFXParserEffect.html#o5">00394</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                    <a class="code" href="structSPVRTPFXParserEffect.html#o5">nNumUniforms</a>, <a class="code" href="structSPVRTPFXParserEffect.html#o6">nMaxUniforms</a>;
00395 
<a name="l00396"></a><a class="code" href="structSPVRTPFXParserEffect.html#o7">00396</a>     <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>*         <a class="code" href="structSPVRTPFXParserEffect.html#o7">psAttribute</a>;
<a name="l00397"></a><a class="code" href="structSPVRTPFXParserEffect.html#o8">00397</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                    <a class="code" href="structSPVRTPFXParserEffect.html#o8">nNumAttributes</a>, <a class="code" href="structSPVRTPFXParserEffect.html#o9">nMaxAttributes</a>;
00398 
<a name="l00399"></a><a class="code" href="structSPVRTPFXParserEffect.html#o10">00399</a>     <a class="code" href="structSPVRTPFXParserEffectTexture.html">SPVRTPFXParserEffectTexture</a>*    <a class="code" href="structSPVRTPFXParserEffect.html#o10">psTextures</a>;
<a name="l00400"></a><a class="code" href="structSPVRTPFXParserEffect.html#o11">00400</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                    <a class="code" href="structSPVRTPFXParserEffect.html#o11">nNumTextures</a>, <a class="code" href="structSPVRTPFXParserEffect.html#o12">nMaxTextures</a>;
00401 
<a name="l00402"></a><a class="code" href="structSPVRTPFXParserEffect.html#o13">00402</a>     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTTargetPair&gt;</a>     <a class="code" href="structSPVRTPFXParserEffect.html#o13">asTargets</a>;
00403 
<a name="l00404"></a><a class="code" href="structSPVRTPFXParserEffect.html#a0">00404</a>     <a class="code" href="structSPVRTPFXParserEffect.html#a0">SPVRTPFXParserEffect</a>() : pszName(NULL), <a class="code" href="structSPVRTPFXParserEffect.html#o1">pszAnnotation</a>(NULL), <a class="code" href="structSPVRTPFXParserEffect.html#o2">pszVertexShaderName</a>(NULL), <a class="code" href="structSPVRTPFXParserEffect.html#o3">pszFragmentShaderName</a>(NULL),
00405                              <a class="code" href="structSPVRTPFXParserEffect.html#o4">psUniform</a>(NULL), <a class="code" href="structSPVRTPFXParserEffect.html#o7">psAttribute</a>(NULL), <a class="code" href="structSPVRTPFXParserEffect.html#o10">psTextures</a>(NULL)
00406     {
00407     }
00408 
<a name="l00409"></a><a class="code" href="structSPVRTPFXParserEffect.html#a1">00409</a>     <a class="code" href="structSPVRTPFXParserEffect.html#a1">~SPVRTPFXParserEffect</a>()
00410     {
00411         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserEffect.html#o3">pszFragmentShaderName</a>);
00412         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserEffect.html#o2">pszVertexShaderName</a>);
00413 
00414         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(<a class="code" href="structSPVRTPFXParserEffect.html#o1">pszAnnotation</a>);
00415         <a class="code" href="PVRTGlobal_8h.html#a12">FREE</a>(pszName);
00416 
00417         <span class="comment">// Free uniform strings</span>
00418         <span class="keyword">delete</span> [] <a class="code" href="structSPVRTPFXParserEffect.html#o4">psUniform</a>;
00419         <a class="code" href="structSPVRTPFXParserEffect.html#o4">psUniform</a> = NULL;
00420 
00421         <span class="comment">// Free attribute strings</span>
00422         <span class="keyword">delete</span> [] <a class="code" href="structSPVRTPFXParserEffect.html#o7">psAttribute</a>;
00423         <a class="code" href="structSPVRTPFXParserEffect.html#o7">psAttribute</a> = NULL;
00424 
00425         <span class="comment">// Free textures</span>
00426         <span class="keyword">delete</span> [] <a class="code" href="structSPVRTPFXParserEffect.html#o10">psTextures</a>;
00427         <a class="code" href="structSPVRTPFXParserEffect.html#o10">psTextures</a> = NULL;
00428     }
00429 
<a name="l00430"></a><a class="code" href="structSPVRTPFXParserEffect.html#a2">00430</a>     <a class="code" href="structSPVRTPFXParserEffect.html#a0">SPVRTPFXParserEffect</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>&amp; rhs)
00431     {
00432         <a class="code" href="structSPVRTPFXParserEffect.html#a4">Copy</a>(rhs);
00433     }
00434 
<a name="l00435"></a><a class="code" href="structSPVRTPFXParserEffect.html#a3">00435</a>     <a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>&amp; <a class="code" href="structSPVRTPFXParserEffect.html#a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>&amp; rhs)
00436     {
00437         <span class="keywordflow">if</span>(&amp;rhs != <span class="keyword">this</span>)
00438             <a class="code" href="structSPVRTPFXParserEffect.html#a4">Copy</a>(rhs);
00439         
00440         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00441     }
00442 
<a name="l00443"></a><a class="code" href="structSPVRTPFXParserEffect.html#a4">00443</a>     <span class="keywordtype">void</span> <a class="code" href="structSPVRTPFXParserEffect.html#a4">Copy</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>&amp; rhs)
00444     {
00445         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
00446 
00447         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;pszName, rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o0">pszName</a>);
00448         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserEffect.html#o1">pszAnnotation</a>, rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o1">pszAnnotation</a>);
00449         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserEffect.html#o2">pszVertexShaderName</a>, rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o2">pszVertexShaderName</a>);
00450         <a class="code" href="PVRTPFXParser_8h.html#a31">PVRTPFXCreateStringCopy</a>(&amp;<a class="code" href="structSPVRTPFXParserEffect.html#o3">pszFragmentShaderName</a>, rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o3">pszFragmentShaderName</a>);
00451 
00452         <a class="code" href="structSPVRTPFXParserEffect.html#o13">asTargets</a> = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o13">asTargets</a>;
00453         
00454         <span class="comment">// Copy uniform data</span>
00455         <span class="keywordflow">if</span>(rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o4">psUniform</a>)
00456         {
00457             <a class="code" href="structSPVRTPFXParserEffect.html#o4">psUniform</a> = <span class="keyword">new</span> <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>[rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o6">nMaxUniforms</a>];
00458             <span class="keywordflow">for</span>(i = 0; i &lt; rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o5">nNumUniforms</a>; ++i)
00459                 <a class="code" href="structSPVRTPFXParserEffect.html#o4">psUniform</a>[i] = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o4">psUniform</a>[i];
00460         }
00461         <a class="code" href="structSPVRTPFXParserEffect.html#o5">nNumUniforms</a> = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o5">nNumUniforms</a>;
00462         <a class="code" href="structSPVRTPFXParserEffect.html#o6">nMaxUniforms</a> = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o6">nMaxUniforms</a>;
00463 
00464         <span class="comment">// Copy attribute data</span>
00465         <span class="keywordflow">if</span>(rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o7">psAttribute</a>)
00466         {
00467             <a class="code" href="structSPVRTPFXParserEffect.html#o7">psAttribute</a> = <span class="keyword">new</span> <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>[rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o9">nMaxAttributes</a>];
00468             <span class="keywordflow">for</span>(i = 0; i &lt; rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o8">nNumAttributes</a>; ++i)
00469                 <a class="code" href="structSPVRTPFXParserEffect.html#o7">psAttribute</a>[i] = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o7">psAttribute</a>[i];
00470         }
00471         <a class="code" href="structSPVRTPFXParserEffect.html#o8">nNumAttributes</a> = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o8">nNumAttributes</a>;
00472         <a class="code" href="structSPVRTPFXParserEffect.html#o9">nMaxAttributes</a> = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o9">nMaxAttributes</a>;
00473 
00474         <span class="comment">// Copy texture data</span>
00475         <span class="keywordflow">if</span>(rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o10">psTextures</a>)
00476         {
00477             <a class="code" href="structSPVRTPFXParserEffect.html#o10">psTextures</a> = <span class="keyword">new</span> <a class="code" href="structSPVRTPFXParserEffectTexture.html">SPVRTPFXParserEffectTexture</a>[rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o12">nMaxTextures</a>];
00478             <span class="keywordflow">for</span>(i = 0; i &lt; rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o11">nNumTextures</a>; ++i)
00479                 <a class="code" href="structSPVRTPFXParserEffect.html#o10">psTextures</a>[i] = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o10">psTextures</a>[i];
00480         }
00481         <a class="code" href="structSPVRTPFXParserEffect.html#o11">nNumTextures</a> = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o11">nNumTextures</a>;
00482         <a class="code" href="structSPVRTPFXParserEffect.html#o12">nMaxTextures</a> = rhs.<a class="code" href="structSPVRTPFXParserEffect.html#o12">nMaxTextures</a>;
00483     }
00484 };
00485 
00486 <span class="keyword">class </span>CPVRTPFXParserReadContext;
00487 
00488 <span class="comment">/*!**************************************************************************</span>
00489 <span class="comment">@Class CPVRTPFXParser</span>
00490 <span class="comment">@Brief PFX parser</span>
00491 <span class="comment">****************************************************************************/</span>
<a name="l00492"></a><a class="code" href="classCPVRTPFXParser.html">00492</a> <span class="keyword">class </span><a class="code" href="classCPVRTPFXParser.html">CPVRTPFXParser</a>
00493 {
00494 <span class="keyword">public</span>:
00495     <span class="comment">/*!***************************************************************************</span>
00496 <span class="comment">    @Function           CPVRTPFXParser</span>
00497 <span class="comment">    @Description        Sets initial values.</span>
00498 <span class="comment">    *****************************************************************************/</span>
00499     <a class="code" href="classCPVRTPFXParser.html#a0">CPVRTPFXParser</a>();
00500 
00501     <span class="comment">/*!***************************************************************************</span>
00502 <span class="comment">    @Function           ~CPVRTPFXParser</span>
00503 <span class="comment">    @Description        Frees memory used.</span>
00504 <span class="comment">    *****************************************************************************/</span>
00505     <a class="code" href="classCPVRTPFXParser.html#a1">~CPVRTPFXParser</a>();
00506 
00507     <span class="comment">/*!***************************************************************************</span>
00508 <span class="comment">    @Function           ParseFromMemory</span>
00509 <span class="comment">    @Input              pszScript       PFX script</span>
00510 <span class="comment">    @Output             pReturnError    error string</span>
00511 <span class="comment">    @Return             PVR_SUCCESS for success parsing file</span>
00512 <span class="comment">                        PVR_FAIL if file doesn't exist or is invalid</span>
00513 <span class="comment">    @Description        Parses a PFX script from memory.</span>
00514 <span class="comment">    *****************************************************************************/</span>
00515     <a class="code" href="PVRTError_8h.html#a5">EPVRTError</a> <a class="code" href="classCPVRTPFXParser.html#a2">ParseFromMemory</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszScript, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00516 
00517     <span class="comment">/*!***************************************************************************</span>
00518 <span class="comment">    @Function           ParseFromFile</span>
00519 <span class="comment">    @Input              pszFileName     PFX file name</span>
00520 <span class="comment">    @Output             pReturnError    error string</span>
00521 <span class="comment">    @Return             PVR_SUCCESS for success parsing file</span>
00522 <span class="comment">                        PVR_FAIL if file doesn't exist or is invalid</span>
00523 <span class="comment">    @Description        Reads the PFX file and calls the parser.</span>
00524 <span class="comment">    *****************************************************************************/</span>
00525     <a class="code" href="PVRTError_8h.html#a5">EPVRTError</a> <a class="code" href="classCPVRTPFXParser.html#a3">ParseFromFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszFileName, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00526 
00527     <span class="comment">/*!***************************************************************************</span>
00528 <span class="comment">     @Function          SetViewportSize</span>
00529 <span class="comment">     @Input             uiWidth             New viewport width</span>
00530 <span class="comment">     @Input             uiHeight            New viewport height</span>
00531 <span class="comment">     @Return            bool                True on success             </span>
00532 <span class="comment">     @Description       Allows the current viewport size to be set. This value</span>
00533 <span class="comment">                        is used for calculating relative texture resolutions                        </span>
00534 <span class="comment">    *****************************************************************************/</span>
00535     <span class="keywordtype">bool</span> <a class="code" href="classCPVRTPFXParser.html#a4">SetViewportSize</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiWidth, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiHeight);
00536 
00537     <span class="comment">/*!***************************************************************************</span>
00538 <span class="comment">    @Function       FindTextureIndex</span>
00539 <span class="comment">    @Input          TextureName     The name of the texture to find</span>
00540 <span class="comment">    @Input          uiEffect        The effect block to look for the texture in</span>
00541 <span class="comment">    @Return         Index in to the effect.Texture array.</span>
00542 <span class="comment">    @Description    Returns the index in to the texture array within the effect </span>
00543 <span class="comment">                    block where the given texture resides.</span>
00544 <span class="comment">    *****************************************************************************/</span>
00545     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a5">FindTextureIndex</a>(<span class="keyword">const</span> <a class="code" href="classCPVRTString.html">CPVRTString</a>&amp; TextureName, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiEffect) <span class="keyword">const</span>;
00546     
00547     <span class="comment">/*!***************************************************************************</span>
00548 <span class="comment">    @Function           RetrieveRenderPassDependencies</span>
00549 <span class="comment">    @Output             aRequiredRenderPasses   Dynamic array of required render passes</span>
00550 <span class="comment">    @Input              aszActiveEffectStrings  Dynamic array containing names of active</span>
00551 <span class="comment">                                                effects in the application</span>
00552 <span class="comment">    @Return             success of failure</span>
00553 <span class="comment">    @Description        Takes an array of strings containing the names of active</span>
00554 <span class="comment">                        effects for this PFX in a given application and then outputs</span>
00555 <span class="comment">                        an array of the render passes the application needs to perform that is sorted</span>
00556 <span class="comment">                        into the order they need to be executed (where [0] is the first to be executed,</span>
00557 <span class="comment">                        and [n] is the last).</span>
00558 <span class="comment">                        In addition to determining the order of dependent passes</span>
00559 <span class="comment">                        (such as POSTPROCESS render passes), this function should check if</span>
00560 <span class="comment">                        CAMERA passes are referenced by active EFFECT blocks and use this information</span>
00561 <span class="comment">                        to strip redundant passes.</span>
00562 <span class="comment">    *****************************************************************************/</span>
00563     <span class="keywordtype">bool</span> <a class="code" href="classCPVRTPFXParser.html#a6">RetrieveRenderPassDependencies</a>(<a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXRenderPass*&gt;</a> &amp;aRequiredRenderPasses,
00564                                         <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;CPVRTString&gt;</a> &amp;aszActiveEffectStrings);
00565 
00566     <span class="comment">/*!***************************************************************************</span>
00567 <span class="comment">    @Function       GetNumberRenderPasses</span>
00568 <span class="comment">    @Return         The number of render passes required</span>
00569 <span class="comment">    @Description    Returns the number of render passes within this PFX.</span>
00570 <span class="comment">    *****************************************************************************/</span>
00571     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a7">GetNumberRenderPasses</a>() <span class="keyword">const</span>;
00572 
00573     <span class="comment">/*!***************************************************************************</span>
00574 <span class="comment">    @Function       GetNumberRenderPasses</span>
00575 <span class="comment">    @Input          uiIndex             The render pass index.</span>
00576 <span class="comment">    @Return         A given render pass.</span>
00577 <span class="comment">    @Description    Returns the given render pass.</span>
00578 <span class="comment">    *****************************************************************************/</span>
00579     <span class="keyword">const</span> <a class="code" href="structSPVRTPFXRenderPass.html">SPVRTPFXRenderPass</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a8">GetRenderPass</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex) <span class="keyword">const</span>;
00580 
00581     <span class="comment">/*!***************************************************************************</span>
00582 <span class="comment">    @Function       GetNumberFragmentShaders</span>
00583 <span class="comment">    @Return         Number of fragment shaders.</span>
00584 <span class="comment">    @Description    Returns the number of fragment shaders referenced in the PFX.</span>
00585 <span class="comment">    *****************************************************************************/</span>
00586     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a9">GetNumberFragmentShaders</a>() <span class="keyword">const</span>;
00587 
00588     <span class="comment">/*!***************************************************************************</span>
00589 <span class="comment">    @Function       GetFragmentShader</span>
00590 <span class="comment">    @Input          uiIndex     The index of this shader.</span>
00591 <span class="comment">    @Return         The PFX fragment shader.</span>
00592 <span class="comment">    @Description    Returns a given fragment shader.</span>
00593 <span class="comment">    *****************************************************************************/</span>
00594     <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a10">GetFragmentShader</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex);
00595 
00596     <span class="comment">/*!***************************************************************************</span>
00597 <span class="comment">    @Function       GetNumberVertexShaders</span>
00598 <span class="comment">    @Return         Number of vertex shaders.</span>
00599 <span class="comment">    @Description    Returns the number of vertex shaders referenced in the PFX.</span>
00600 <span class="comment">    *****************************************************************************/</span>
00601     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a11">GetNumberVertexShaders</a>() <span class="keyword">const</span>;
00602 
00603     <span class="comment">/*!***************************************************************************</span>
00604 <span class="comment">    @Function       GetVertexShader</span>
00605 <span class="comment">    @Input          uiIndex     The index of this shader.</span>
00606 <span class="comment">    @Return         The PFX vertex shader.</span>
00607 <span class="comment">    @Description    Returns a given vertex shader.</span>
00608 <span class="comment">    *****************************************************************************/</span>
00609     <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a12">GetVertexShader</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex);
00610  
00611     <span class="comment">/*!***************************************************************************</span>
00612 <span class="comment">    @Function       GetNumberEffects</span>
00613 <span class="comment">    @Return         Number of effects.</span>
00614 <span class="comment">    @Description    Returns the number of effects referenced in the PFX.</span>
00615 <span class="comment">    *****************************************************************************/</span>
00616     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a13">GetNumberEffects</a>() <span class="keyword">const</span>;
00617 
00618     <span class="comment">/*!***************************************************************************</span>
00619 <span class="comment">    @Function       GetEffect</span>
00620 <span class="comment">    @Input          uiIndex     The index of this effect.</span>
00621 <span class="comment">    @Return         The PFX effect.</span>
00622 <span class="comment">    @Description    Returns a given effect.</span>
00623 <span class="comment">    *****************************************************************************/</span>
00624     <span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a14">GetEffect</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex) <span class="keyword">const</span>;
00625 
00626     <span class="comment">/*!***************************************************************************</span>
00627 <span class="comment">    @Function       GetNumberTextures</span>
00628 <span class="comment">    @Return         Number of effects.</span>
00629 <span class="comment">    @Description    Returns the number of textures referenced in the PFX.</span>
00630 <span class="comment">    *****************************************************************************/</span>
00631     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a15">GetNumberTextures</a>() <span class="keyword">const</span>;
00632 
00633     <span class="comment">/*!***************************************************************************</span>
00634 <span class="comment">    @Function       GetTexture</span>
00635 <span class="comment">    @Input          uiIndex     The index of this texture</span>
00636 <span class="comment">    @Return         The PFX texture.</span>
00637 <span class="comment">    @Description    Returns a given texture.</span>
00638 <span class="comment">    *****************************************************************************/</span>
00639     <span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserTexture.html">SPVRTPFXParserTexture</a>* <a class="code" href="classCPVRTPFXParser.html#a16">GetTexture</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex) <span class="keyword">const</span>;
00640 
00641     <span class="comment">/*!***************************************************************************</span>
00642 <span class="comment">    @Function       GetPFXFileName</span>
00643 <span class="comment">    @Return         The filename for this PFX file</span>
00644 <span class="comment">    @Description    Returns the PFX file name associated with this object.</span>
00645 <span class="comment">    *****************************************************************************/</span>
00646     <span class="keyword">const</span> <a class="code" href="classCPVRTString.html">CPVRTString</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a17">GetPFXFileName</a>() <span class="keyword">const</span>;
00647 
00648     <span class="comment">/*!***************************************************************************</span>
00649 <span class="comment">    @Function       GetPostProcessNames</span>
00650 <span class="comment">    @Return         An array of post process names</span>
00651 <span class="comment">    @Description    Returns a list of prost process effect names.</span>
00652 <span class="comment">    *****************************************************************************/</span>
00653     <span class="keyword">const</span> <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;CPVRTString&gt;</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a18">GetPostProcessNames</a>() <span class="keyword">const</span>;
00654 
00655 <span class="keyword">public</span>:
00656     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                           <a class="code" href="classCPVRTPFXParser.html#s0">VIEWPORT_SIZE</a>;
00657         
00658 <span class="keyword">private</span>:    
00659     <a class="code" href="structSPVRTPFXParserHeader.html">SPVRTPFXParserHeader</a>                                m_sHeader;
00660 
00661     <a class="code" href="classCPVRTArrayManagedPointers.html">CPVRTArrayManagedPointers&lt;SPVRTPFXParserTexture&gt;</a>    m_psTexture;
00662     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserShader&gt;</a>                    m_psFragmentShader;
00663     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserShader&gt;</a>                    m_psVertexShader;
00664     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserEffect&gt;</a>                    m_psEffect;
00665 
00666     <a class="code" href="classCPVRTString.html">CPVRTString</a>                                         m_szFileName;
00667     CPVRTPFXParserReadContext*                          m_psContext;
00668     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;CPVRTString&gt;</a>                             m_aszPostProcessNames;
00669 
00670     <a class="code" href="structSPVRTPFXRenderPass.html">SPVRTPFXRenderPass</a>*                                 m_psRenderPasses;
00671     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                                        m_nNumRenderPasses;
00672     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                                        m_nMaxRenders;
00673 
00674     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                                        m_uiViewportWidth;
<a name="l00675"></a><a class="code" href="classCPVRTPFXParser.html#s0">00675</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                                        m_uiViewportHeight;
00676     <a class="code" href="classCPVRTSkipGraphRoot.html">CPVRTSkipGraphRoot&lt;SPVRTPFXRenderPass*&gt;</a>             m_renderPassSkipGraph;
00677 
00678     <span class="comment">/*!***************************************************************************</span>
00679 <span class="comment">    @Function           Parse</span>
00680 <span class="comment">    @Output             pReturnError    error string</span>
00681 <span class="comment">    @Return             true for success parsing file</span>
00682 <span class="comment">    @Description        Parses a loaded PFX file.</span>
00683 <span class="comment">    *****************************************************************************/</span>
00684     <span class="keywordtype">bool</span> Parse( <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00685 
00686     <span class="comment">/*!***************************************************************************</span>
00687 <span class="comment">    @Function           ReduceWhitespace</span>
00688 <span class="comment">    @Output             line        output text</span>
00689 <span class="comment">    @Description        Reduces all white space characters in the string to one</span>
00690 <span class="comment">                        blank space.</span>
00691 <span class="comment">    *****************************************************************************/</span>
00692     <span class="keywordtype">void</span> ReduceWhitespace(<span class="keywordtype">char</span> *line);
00693 
00694     <span class="comment">/*!***************************************************************************</span>
00695 <span class="comment">    @Function           GetEndTag</span>
00696 <span class="comment">    @Input              pszTagName      tag name</span>
00697 <span class="comment">    @Input              nStartLine      start line</span>
00698 <span class="comment">    @Output             pnEndLine       line end tag found</span>
00699 <span class="comment">    @Return             true if tag found</span>
00700 <span class="comment">    @Description        Searches for end tag pszTagName from line nStartLine.</span>
00701 <span class="comment">                        Returns true and outputs the line number of the end tag if</span>
00702 <span class="comment">                        found, otherwise returning false.</span>
00703 <span class="comment">    *****************************************************************************/</span>
00704     <span class="keywordtype">bool</span> GetEndTag(<span class="keyword">const</span> <span class="keywordtype">char</span> *pszTagName, <span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> *pnEndLine);
00705 
00706     <span class="comment">/*!***************************************************************************</span>
00707 <span class="comment">     @Function          ReturnParameter</span>
00708 <span class="comment">     @Output            aszSourceString     The string to search</span>
00709 <span class="comment">     @Input             parameterTag        The tag to find</span>
00710 <span class="comment">     @Input             delimiter           Delimiters</span>
00711 <span class="comment">     @Return            Found parameter or empty string</span>
00712 <span class="comment">     @Description       Finds the parameter after the specified delimiting character and</span>
00713 <span class="comment">                        returns the parameter as a string. An empty string is returned</span>
00714 <span class="comment">                        if a parameter cannot be found</span>
00715 <span class="comment">                        </span>
00716 <span class="comment">    *****************************************************************************/</span>
00717     <a class="code" href="classCPVRTString.html">CPVRTString</a> FindParameter(<span class="keywordtype">char</span> *aszSourceString, <span class="keyword">const</span> <a class="code" href="classCPVRTString.html">CPVRTString</a> &amp;parameterTag, <span class="keyword">const</span> <a class="code" href="classCPVRTString.html">CPVRTString</a> &amp;delimiter);
00718 
00719     <span class="comment">/*!***************************************************************************</span>
00720 <span class="comment">     @Function          ReadStringToken</span>
00721 <span class="comment">     @Input             pszSource           Parameter string to process</span>
00722 <span class="comment">     @Output            output              Processed string</span>
00723 <span class="comment">     @Output            ErrorStr            String containing errors</span>
00724 <span class="comment">     @Input             iLine               The line to read</span>
00725 <span class="comment">     @Input             pCaller             The caller's name or identifier</span>
00726 <span class="comment">     @Return            Returns true on success</span>
00727 <span class="comment">     @Description       Processes the null terminated char array as if it's a</span>
00728 <span class="comment">                        formatted string array. Quote marks are determined to be</span>
00729 <span class="comment">                        start and end of strings. If no quote marks are found the</span>
00730 <span class="comment">                        string is delimited by whitespace.</span>
00731 <span class="comment">    *****************************************************************************/</span>
00732     <span class="keywordtype">bool</span> ReadStringToken(<span class="keywordtype">char</span>* pszSource, <a class="code" href="classCPVRTString.html">CPVRTString</a>&amp; output, <a class="code" href="classCPVRTString.html">CPVRTString</a> &amp;ErrorStr, <span class="keywordtype">int</span> iLine, <span class="keyword">const</span> <span class="keywordtype">char</span>* pCaller);
00733 
00734     <span class="comment">/*!***************************************************************************</span>
00735 <span class="comment">    @Function           ParseHeader</span>
00736 <span class="comment">    @Input              nStartLine      start line number</span>
00737 <span class="comment">    @Input              nEndLine        end line number</span>
00738 <span class="comment">    @Output             pReturnError    error string</span>
00739 <span class="comment">    @Return             true if parse is successful</span>
00740 <span class="comment">    @Description        Parses the HEADER section of the PFX file.</span>
00741 <span class="comment">    *****************************************************************************/</span>
00742     <span class="keywordtype">bool</span> ParseHeader(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00743 
00744     <span class="comment">/*!***************************************************************************</span>
00745 <span class="comment">    @Function           ParseTextures       ** DEPRECATED **</span>
00746 <span class="comment">    @Input              nStartLine      start line number</span>
00747 <span class="comment">    @Input              nEndLine        end line number</span>
00748 <span class="comment">    @Output             pReturnError    error string</span>
00749 <span class="comment">    @Return             true if parse is successful</span>
00750 <span class="comment">    @Description        Parses the TEXTURES section of the PFX file.</span>
00751 <span class="comment">                        This style is deprecated but remains for backwards</span>
00752 <span class="comment">                        compatibility.</span>
00753 <span class="comment">    *****************************************************************************/</span>
00754     <span class="keywordtype">bool</span> ParseTextures(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00755 
00756     <span class="comment">/*!***************************************************************************</span>
00757 <span class="comment">    @Function           ParseTexture</span>
00758 <span class="comment">    @Input              nStartLine      start line number</span>
00759 <span class="comment">    @Input              nEndLine        end line number</span>
00760 <span class="comment">    @Output             pReturnError    error string</span>
00761 <span class="comment">    @Return             true if parse is successful</span>
00762 <span class="comment">    @Description        Parses the TEXTURE section of the PFX file.</span>
00763 <span class="comment">    *****************************************************************************/</span>
00764     <span class="keywordtype">bool</span> ParseTexture(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00765 
00766     <span class="comment">/*!***************************************************************************</span>
00767 <span class="comment">    @Function           ParseTarget</span>
00768 <span class="comment">    @Input              nStartLine      start line number</span>
00769 <span class="comment">    @Input              nEndLine        end line number</span>
00770 <span class="comment">    @Output             pReturnError    error string</span>
00771 <span class="comment">    @Return             true if parse is successful</span>
00772 <span class="comment">    @Description        Parses the TARGET section of the PFX file.</span>
00773 <span class="comment">    *****************************************************************************/</span>
00774     <span class="keywordtype">bool</span> ParseTarget(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00775 
00776     <span class="comment">/*!***************************************************************************</span>
00777 <span class="comment">    @Function           ParseGenericSurface</span>
00778 <span class="comment">    @Input              nStartLine      start line number</span>
00779 <span class="comment">    @Input              nEndLine        end line number</span>
00780 <span class="comment">    @Output             Params          Structure containing PFXTexture parameters</span>
00781 <span class="comment">    @Output             KnownCmds       An array of unknown commands for the caller</span>
00782 <span class="comment">                                        to check.</span>
00783 <span class="comment">    @Input              pCaller         The caller's description for error messages.</span>
00784 <span class="comment">    @Output             pReturnError    error string</span>
00785 <span class="comment">    @Return             true if parse is successful</span>
00786 <span class="comment">    @Description        Parses generic data from TARGET and TEXTURE blocks. Namely</span>
00787 <span class="comment">                        wrapping and filter commands.</span>
00788 <span class="comment">    *****************************************************************************/</span>
00789     <span class="keywordtype">bool</span> ParseGenericSurface(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="structSPVRTPFXParserTexture.html">SPVRTPFXParserTexture</a>&amp; Params, <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;CPVRTHash&gt;</a>&amp; KnownCmds, 
00790                              <span class="keyword">const</span> <span class="keywordtype">char</span>* pCaller, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00791 
00792     <span class="comment">/*!***************************************************************************</span>
00793 <span class="comment">    @Function           ParseShader</span>
00794 <span class="comment">    @Input              nStartLine      start line number</span>
00795 <span class="comment">    @Input              nEndLine        end line number</span>
00796 <span class="comment">    @Output             pReturnError    error string</span>
00797 <span class="comment">    @Output             shader          shader data object</span>
00798 <span class="comment">    @Input              pszBlockName    name of block in PFX file</span>
00799 <span class="comment">    @Return             true if parse is successful</span>
00800 <span class="comment">    @Description        Parses the VERTEXSHADER or FRAGMENTSHADER section of the</span>
00801 <span class="comment">                        PFX file.</span>
00802 <span class="comment">    *****************************************************************************/</span>
00803     <span class="keywordtype">bool</span> ParseShader(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> *pReturnError, <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a> &amp;shader, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszBlockName);
00804 
00805     <span class="comment">/*!***************************************************************************</span>
00806 <span class="comment">    @Function           ParseSemantic</span>
00807 <span class="comment">    @Output             semantic        semantic data object</span>
00808 <span class="comment">    @Input              nStartLine      start line number</span>
00809 <span class="comment">    @Output             pReturnError    error string</span>
00810 <span class="comment">    @Return             true if parse is successful</span>
00811 <span class="comment">    @Description        Parses a semantic.</span>
00812 <span class="comment">    *****************************************************************************/</span>
00813     <span class="keywordtype">bool</span> ParseSemantic(<a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a> &amp;semantic, <span class="keyword">const</span> <span class="keywordtype">int</span> nStartLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00814 
00815     <span class="comment">/*!***************************************************************************</span>
00816 <span class="comment">    @Function           ParseEffect</span>
00817 <span class="comment">    @Output             effect          effect data object</span>
00818 <span class="comment">    @Input              nStartLine      start line number</span>
00819 <span class="comment">    @Input              nEndLine        end line number</span>
00820 <span class="comment">    @Output             pReturnError    error string</span>
00821 <span class="comment">    @Return             true if parse is successful</span>
00822 <span class="comment">    @Description        Parses the EFFECT section of the PFX file.</span>
00823 <span class="comment">    *****************************************************************************/</span>
00824     <span class="keywordtype">bool</span> ParseEffect(<a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a> &amp;effect, <span class="keyword">const</span> <span class="keywordtype">int</span> nStartLine, <span class="keyword">const</span> <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00825 
00826     <span class="comment">/*!***************************************************************************</span>
00827 <span class="comment">    @Function       ParseTextureFlags</span>
00828 <span class="comment">    @Input          c_pszRemainingLine      Pointer to the remaining string</span>
00829 <span class="comment">    @Output         ppFlagsOut              Resultant flags set</span>
00830 <span class="comment">    @Input          uiNumFlags              Number of flags to set</span>
00831 <span class="comment">    @Input          c_ppszFlagNames         Flag names          </span>
00832 <span class="comment">    @Input          uiNumFlagNames          Number of flag names</span>
00833 <span class="comment">    @Input          pReturnError            Return error to set</span>
00834 <span class="comment">    @Input          iLineNum                The line number for error reporting</span>
00835 <span class="comment">    @Return         true if successful</span>
00836 <span class="comment">    @Description    Parses the texture flag sections.</span>
00837 <span class="comment">    *****************************************************************************/</span>
00838     <span class="keywordtype">bool</span> ParseTextureFlags( <span class="keyword">const</span> <span class="keywordtype">char</span>* c_pszRemainingLine, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>** ppFlagsOut, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiNumFlags, <span class="keyword">const</span> <span class="keywordtype">char</span>** c_ppszFlagNames, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiNumFlagNames, 
00839                             <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError, <span class="keywordtype">int</span> iLineNum);
00840     <span class="comment">/*!***************************************************************************</span>
00841 <span class="comment">     @Function      DetermineRenderPassDependencies</span>
00842 <span class="comment">     @Output            pReturnError</span>
00843 <span class="comment">     @Return        True if dependency tree is valid. False if there are errors</span>
00844 <span class="comment">                    in the dependency tree (e.g. recursion)</span>
00845 <span class="comment">     @Description   Looks through all of the effects in the .pfx and determines</span>
00846 <span class="comment">                    the order of render passes that have been declared with</span>
00847 <span class="comment">                    the RENDER tag (found in [TEXTURES]. </span>
00848 <span class="comment">    *****************************************************************************/</span>
00849     <span class="keywordtype">bool</span> DetermineRenderPassDependencies(<a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00850 
00851     <span class="comment">/*!***************************************************************************</span>
00852 <span class="comment">     @Function      AddRenderPassNodeDependancies</span>
00853 <span class="comment">     @Input         aRequiredRenderPasses</span>
00854 <span class="comment">     @Input         renderPassNode</span>
00855 <span class="comment">     @Description   Recursively look through dependencies until leaf nodes are</span>
00856 <span class="comment">                    encountered. At this point, add a given leaf node to the</span>
00857 <span class="comment">                    aRequiredRenderPasses array and return. Repeat this process</span>
00858 <span class="comment">                    until all dependencies are added to the array.</span>
00859 <span class="comment">    *****************************************************************************/</span>
00860     <span class="keywordtype">void</span> AddRenderPassNodeDependencies( <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXRenderPass*&gt;</a> &amp;aRequiredRenderPasses,
00861                                         <a class="code" href="classCPVRTSkipGraphNode.html">CPVRTSkipGraphNode&lt;SPVRTPFXRenderPass*&gt;</a> &amp;renderPassNode);
00862 };
00863 
00864 
00865 <span class="preprocessor">#endif </span><span class="comment">/* _PVRTPFXPARSER_H_ */</span>
00866 
00867 <span class="comment">/*****************************************************************************</span>
00868 <span class="comment"> End of file (PVRTPFXParser.h)</span>
00869 <span class="comment">*****************************************************************************/</span>
00870 
</pre></div><br>
<br>
<P align=left><FONT size=2><STRONG><A 
   href="http://www.imgtec.com/powervr/insider/legal/index.asp">Copyright</A>  
   1999-2008, Imagination Technologies Ltd.</STRONG></FONT></P>
<hr>
<address style="align: left;"><small><FONT color=f0f>
Generated by <a href="http://www.doxygen.org/index.html">DOXYGEN</a> 1.3.6</small></address>
</body>
</html>
